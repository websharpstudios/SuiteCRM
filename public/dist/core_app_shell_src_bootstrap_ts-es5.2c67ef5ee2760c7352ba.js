!function(){"use strict";function e(t,n,r){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(t,n,r||t)}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=o(e);if(t){var a=o(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return i(this,n)}}function i(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkshell=self.webpackChunkshell||[]).push([["core_app_shell_src_bootstrap_ts"],{61855:function(e,t,n){n.d(t,{ZT:function(){return i},pi:function(){return o},_T:function(){return a},gn:function(){return s},mG:function(){return u},Jh:function(){return c},ev:function(){return l}});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})}function c(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function l(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}},54684:function(n,i,c){c.r(i);var l=c(54464),p=c(14468),d=c(12445),y=c(78193),v=c(61855),m=c(26180),g=c(16403),_=c(8473),b=function(){function e(){this.getFragmentDoc=(0,m.re)(_.Yk)}return e.prototype.batch=function(e){this.performTransaction(e.update,"string"==typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0)},e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read((0,v.pi)((0,v.pi)({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read((0,v.pi)((0,v.pi)({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},e.prototype.writeQuery=function(e){var t=e.id,n=e.data,r=(0,v._T)(e,["id","data"]);return this.write(Object.assign(r,{dataId:t||"ROOT_QUERY",result:n}))},e.prototype.writeFragment=function(e){var t=e.id,n=e.data,r=e.fragment,i=e.fragmentName,o=(0,v._T)(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(o,{query:this.getFragmentDoc(r,i),dataId:t,result:n}))},e}(),k=function(e){function t(n,r,i,o){var a=e.call(this,n)||this;return a.message=n,a.path=r,a.query=i,a.variables=o,a.__proto__=t.prototype,a}return(0,v.ZT)(t,e),t}(Error),w=c(50210),S=c(92035),E=c(16290),T=c(49245),O=c(93850),A=c(78704),C=c(36689),j=c(67202);function R(e){return __DEV__&&function(e){var t=new Set([e]);t.forEach(function(e){(0,j.s)(e)&&(Object.isFrozen(e)||Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(n){(0,j.s)(e[n])&&t.add(e[n])}))})}(e),e}var N=c(53313),D=Object.prototype.hasOwnProperty,P=/^[_a-z][_0-9a-z]*/i;function F(e){var t=e.match(P);return t?t[0]:e}function x(e,t,n){return!!(0,j.s)(t)&&(Array.isArray(t)?t.every(function(t){return x(e,t,n)}):e.selections.every(function(e){if((0,w.My)(e)&&(0,A.LZ)(e,n)){var r=(0,w.u2)(e);return D.call(t,r)&&(!e.selectionSet||x(e.selectionSet,t[r],n))}return!0}))}function I(e){return(0,j.s)(e)&&!(0,w.Yk)(e)&&!Array.isArray(e)}var M,L,B=Object.create(null),q=function(){return B},V=Object.create(null),z=function(){function e(e,t){var n=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return R((0,w.Yk)(e)?n.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return(0,w.Yk)(e)?n.has(e.__ref):"object"==typeof e},this.toReference=function(e,t){if("string"==typeof e)return(0,w.kQ)(e);if((0,w.Yk)(e))return e;var r=n.policies.identify(e)[0];if(r){var i=(0,w.kQ)(r);return t&&n.merge(r,e),i}}}return e.prototype.toObject=function(){return(0,v.pi)({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),D.call(this.data,e)){var n=this.data[e];if(n&&D.call(n,t))return n[t]}return"__typename"===t&&D.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof K?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),D.call(this.data,e)?this.data[e]:this instanceof K?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var n,r=this;(0,w.Yk)(e)&&(e=e.__ref),(0,w.Yk)(t)&&(t=t.__ref);var i="string"==typeof e?this.lookup(n=e):e,o="string"==typeof t?this.lookup(n=t):t;if(o){__DEV__?(0,E.kG)("string"==typeof n,"store.merge expects a string ID"):(0,E.kG)("string"==typeof n,1);var a=new C.w0(W).merge(i,o);if(this.data[n]=a,a!==i&&(delete this.refs[n],this.group.caching)){var s=Object.create(null);i||(s.__exists=1),Object.keys(o).forEach(function(e){if(!i||i[e]!==a[e]){s[e]=1;var t=F(e);t!==e&&!r.policies.hasKeyArgs(a.__typename,t)&&(s[t]=1),void 0===a[e]&&!(r instanceof K)&&delete a[e]}}),s.__typename&&!(i&&i.__typename)&&this.policies.rootTypenamesById[n]===a.__typename&&delete s.__typename,Object.keys(s).forEach(function(e){return r.group.dirty(n,e)})}}},e.prototype.modify=function(e,t){var n=this,r=this.lookup(e);if(r){var i=Object.create(null),o=!1,a=!0,s={DELETE:B,INVALIDATE:V,isReference:w.Yk,toReference:this.toReference,canRead:this.canRead,readField:function(t,r){return n.policies.readField("string"==typeof t?{fieldName:t,from:r||(0,w.kQ)(e)}:t,{store:n})}};if(Object.keys(r).forEach(function(u){var c=F(u),l=r[u];if(void 0!==l){var f="function"==typeof t?t:t[u]||t[c];if(f){var h=f===q?B:f(R(l),(0,v.pi)((0,v.pi)({},s),{fieldName:c,storeFieldName:u,storage:n.getStorage(e,u)}));h===V?n.group.dirty(e,u):(h===B&&(h=void 0),h!==l&&(i[u]=h,o=!0,l=h))}void 0!==l&&(a=!1)}}),o)return this.merge(e,i),a&&(this instanceof K?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,n){var r,i=this.lookup(e);if(i){var o=this.getFieldValue(i,"__typename"),a=t&&n?this.policies.getStoreFieldName({typename:o,fieldName:t,args:n}):t;return this.modify(e,a?((r={})[a]=q,r):q)}return!1},e.prototype.evict=function(e){var t=!1;return e.id&&(D.call(this.data,e.id)&&(t=this.delete(e.id,e.fieldName,e.args)),this instanceof K&&(t=this.parent.evict(e)||t),(e.fieldName||t)&&this.group.dirty(e.id,e.fieldName||"__exists")),t},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),n=[];return this.getRootIdSet().forEach(function(t){D.call(e.policies.rootTypenamesById,t)||n.push(t)}),n.length&&(t.__META={extraRootIds:n.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach(function(n){e&&D.call(e,n)||t.delete(n)}),e){var n=e.__META,r=(0,v._T)(e,["__META"]);Object.keys(r).forEach(function(e){t.merge(e,r[e])}),n&&n.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof K?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),n=this.toObject();t.forEach(function(r){D.call(n,r)&&(Object.keys(e.findChildRefIds(r)).forEach(t.add,t),delete n[r])});var r=Object.keys(n);if(r.length){for(var i=this;i instanceof K;)i=i.parent;r.forEach(function(e){return i.delete(e)})}return r},e.prototype.findChildRefIds=function(e){if(!D.call(this.refs,e)){var t=this.refs[e]=Object.create(null),n=this.data[e];if(!n)return t;var r=new Set([n]);r.forEach(function(e){(0,w.Yk)(e)&&(t[e.__ref]=!0),(0,j.s)(e)&&Object.keys(e).forEach(function(t){var n=e[t];(0,j.s)(n)&&r.add(n)})})}return this.refs[e]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),U=function(){function e(e,t){void 0===t&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?(0,m.dP)():null,this.keyMaker=new N.B(T.m)},e.prototype.depend=function(e,t){if(this.d){this.d(G(e,t));var n=F(t);n!==t&&this.d(G(e,n)),this.parent&&this.parent.depend(e,t)}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(G(e,t),"__exists"===t?"forget":"setDirty")},e}();function G(e,t){return t+"#"+e}function Q(e,t){H(e)&&e.group.depend(t,"__exists")}L=function(e){function t(t){var n=t.resultCaching,r=t.seed,i=e.call(this,t.policies,new U(void 0===n||n))||this;return i.stump=new Y(i),i.storageTrie=new N.B(T.m),r&&i.replace(r),i}return(0,v.ZT)(t,e),t.prototype.addLayer=function(e,t){return this.stump.addLayer(e,t)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(M=z||(z={})),M.Root=L;var K=function(e){function t(t,n,r,i){var o=e.call(this,n.policies,i)||this;return o.id=t,o.parent=n,o.replay=r,o.group=i,r(o),o}return(0,v.ZT)(t,e),t.prototype.addLayer=function(e,n){return new t(e,this,n,this.group)},t.prototype.removeLayer=function(e){var t=this,n=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(e){var r=t.data[e],i=n.lookup(e);i?r?r!==i&&Object.keys(r).forEach(function(n){(0,g.D)(r[n],i[n])||t.group.dirty(e,n)}):(t.group.dirty(e,"__exists"),Object.keys(i).forEach(function(n){t.group.dirty(e,n)})):t.delete(e)}),n):n===this.parent?this:n.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return(0,v.pi)((0,v.pi)({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return D.call(this.data,t)?(0,v.pi)((0,v.pi)({},n),e.prototype.findChildRefIds.call(this,t)):n},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(z),Y=function(e){function t(t){return e.call(this,"EntityStore.Stump",t,function(){},new U(t.group.caching,t.group))||this}return(0,v.ZT)(t,e),t.prototype.removeLayer=function(){return this},t.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},t}(K);function W(e,t,n){var r=e[n],i=t[n];return(0,g.D)(r,i)?r:i}function H(e){return!!(e instanceof z&&e.group.caching)}var Z=c(53483);function J(e,t){return new k(e.message,t.path.slice(),t.query,t.variables)}function $(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var X=function(){function e(e){var t=this;this.knownResults=new(T.m?WeakMap:Map),this.config=(0,v.pi)((0,v.pi)({},e),{addTypename:!1!==e.addTypename}),this.canon=e.canon||new Z.h,this.executeSelectionSet=(0,m.re)(function(e){var n,r=e.context.canonizeResults,i=$(e);i[3]=!r;var o=(n=t.executeSelectionSet).peek.apply(n,i);return o?r?(0,v.pi)((0,v.pi)({},o),{result:t.canon.admit(o.result)}):o:(Q(e.context.store,e.enclosingRef.__ref),t.execSelectionSetImpl(e))},{max:this.config.resultCacheMaxSize,keyArgs:$,makeCacheKey:function(e,t,n,r){if(H(n.store))return n.store.makeCacheKey(e,(0,w.Yk)(t)?t.__ref:t,n.varString,r)}}),this.executeSubSelectedArray=(0,m.re)(function(e){return Q(e.context.store,e.enclosingRef.__ref),t.execSubSelectedArrayImpl(e)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var t=e.field,n=e.array,r=e.context;if(H(r.store))return r.store.makeCacheKey(t,n,r.varString)}})}return e.prototype.resetCanon=function(){this.canon=new Z.h},e.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,r=e.rootId,i=void 0===r?"ROOT_QUERY":r,o=e.variables,a=e.returnPartialData,s=void 0===a||a,u=e.canonizeResults,c=void 0===u||u,l=this.config.cache.policies;o=(0,v.pi)((0,v.pi)({},(0,O.O4)((0,O.iW)(n))),o);var f=(0,w.kQ)(i),h=this.executeSelectionSet({selectionSet:(0,O.p$)(n).selectionSet,objectOrReference:f,enclosingRef:f,context:{store:t,query:n,policies:l,variables:o,varString:(0,Z.B)(o),canonizeResults:c,fragmentMap:(0,_.F)((0,O.kU)(n)),path:[]}}),p=h.missing&&h.missing.length>0;if(p&&!s)throw h.missing[0];return{result:h.result,missing:h.missing,complete:!p}},e.prototype.isFresh=function(e,t,n,r){if(H(r.store)&&this.knownResults.get(e)===n){var i=this.executeSelectionSet.peek(n,t,r,this.canon.isKnown(e));if(i&&e===i.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,n=e.selectionSet,r=e.objectOrReference,i=e.enclosingRef,o=e.context;if((0,w.Yk)(r)&&!o.policies.rootTypenamesById[r.__ref]&&!o.store.has(r.__ref))return{result:this.canon.empty,missing:[J(__DEV__?new E.ej("Dangling reference to missing "+r.__ref+" object"):new E.ej(5),o)]};var a=o.variables,s=o.policies,u=[],c={result:null},l=o.store.getFieldValue(r,"__typename");function f(){return c.missing||(c.missing=[])}function h(e){var t;return e.missing&&(t=f()).push.apply(t,e.missing),e.result}this.config.addTypename&&"string"==typeof l&&!s.rootIdsByTypename[l]&&u.push({__typename:l});var p=new Set(n.selections);p.forEach(function(e){var n;if((0,A.LZ)(e,a))if((0,w.My)(e)){var c=s.readField({fieldName:e.name.value,field:e,variables:o.variables,from:r},o),d=(0,w.u2)(e);o.path.push(d),void 0===c?S.Gw.added(e)||f().push(J(__DEV__?new E.ej("Can't find field '"+e.name.value+"' on "+((0,w.Yk)(r)?r.__ref+" object":"object "+JSON.stringify(r,null,2))):new E.ej(6),o)):Array.isArray(c)?c=h(t.executeSubSelectedArray({field:e,array:c,enclosingRef:i,context:o})):e.selectionSet?null!=c&&(c=h(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:c,enclosingRef:(0,w.Yk)(c)?c:i,context:o}))):o.canonizeResults&&(c=t.canon.pass(c)),void 0!==c&&u.push(((n={})[d]=c,n)),(0,E.kG)(o.path.pop()===d)}else{var y=(0,_.hi)(e,o.fragmentMap);y&&s.fragmentMatches(y,l)&&y.selectionSet.selections.forEach(p.add,p)}});var d=(0,C.bw)(u);return c.result=o.canonizeResults?this.canon.admit(d):R(d),this.knownResults.set(c.result,n),c},e.prototype.execSubSelectedArrayImpl=function(e){var t,n=this,r=e.field,i=e.array,o=e.enclosingRef,a=e.context;function s(e,n){return e.missing&&(t=t||[]).push.apply(t,e.missing),(0,E.kG)(a.path.pop()===n),e.result}return r.selectionSet&&(i=i.filter(a.store.canRead)),i=i.map(function(e,t){return null===e?null:(a.path.push(t),Array.isArray(e)?s(n.executeSubSelectedArray({field:r,array:e,enclosingRef:o,context:a}),t):r.selectionSet?s(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:e,enclosingRef:(0,w.Yk)(e)?e:o,context:a}),t):(__DEV__&&function(e,t,n){if(!t.selectionSet){var r=new Set([n]);r.forEach(function(n){(0,j.s)(n)&&(__DEV__?(0,E.kG)(!(0,w.Yk)(n),"Missing selection set for object of type "+function(e,t){return(0,w.Yk)(t)?e.get(t.__ref,"__typename"):t&&t.__typename}(e,n)+" returned for query field "+t.name.value):(0,E.kG)(!(0,w.Yk)(n),7),Object.values(n).forEach(r.add,r))})}}(a.store,r,e),(0,E.kG)(a.path.pop()===t),e))}),{result:a.canonizeResults?this.canon.admit(i):i,missing:t}},e}(),ee=c(90751),te=function(){function e(e,t){this.cache=e,this.reader=t}return e.prototype.writeToStore=function(e,t){var n=this,r=t.query,i=t.result,o=t.dataId,a=t.variables,s=t.overwrite,u=(0,O.$H)(r),c=new C.w0;a=(0,v.pi)((0,v.pi)({},(0,O.O4)(u)),a);var l={store:e,written:Object.create(null),merge:function(e,t){return c.merge(e,t)},variables:a,varString:(0,Z.B)(a),fragmentMap:(0,_.F)((0,O.kU)(r)),overwrite:!!s,incomingById:new Map,clientOnly:!1},f=this.processSelectionSet({result:i||Object.create(null),dataId:o,selectionSet:u.selectionSet,mergeTree:{map:new Map},context:l});if(!(0,w.Yk)(f))throw __DEV__?new E.ej("Could not identify object "+JSON.stringify(i)):new E.ej(8);return l.incomingById.forEach(function(t,r){var i=t.fields,o=t.mergeTree,a=t.selections,s=(0,w.kQ)(r);if(o&&o.map.size){var u=n.applyMerges(o,s,i,l);if((0,w.Yk)(u))return;i=u}if(__DEV__&&!l.overwrite){var c=new Set;a.forEach(function(e){(0,w.My)(e)&&e.selectionSet&&c.add(e.name.value)}),Object.keys(i).forEach(function(e){(function(e){return c.has(F(e))})(e)&&!function(e){var t=o&&o.map.get(e);return Boolean(t&&t.info&&t.info.merge)}(e)&&function(e,t,n,r){var i=function(e){var t=r.getFieldValue(e,n);return"object"==typeof t&&t},o=i(e);if(o){var a=i(t);if(a&&!(0,w.Yk)(o)&&!(0,g.D)(o,a)&&!Object.keys(o).every(function(e){return void 0!==r.getFieldValue(a,e)})){var s=r.getFieldValue(e,"__typename")||r.getFieldValue(t,"__typename"),u=F(n),c=s+"."+u;if(!se.has(c)){se.add(c);var l=[];!Array.isArray(o)&&!Array.isArray(a)&&[o,a].forEach(function(e){var t=r.getFieldValue(e,"__typename");"string"==typeof t&&!l.includes(t)&&l.push(t)}),__DEV__&&E.kG.warn("Cache data may be lost when replacing the "+u+" field of a "+s+" object.\n\nTo address this problem (which is not a bug in Apollo Client), "+(l.length?"either ensure all objects of type "+l.join(" and ")+" have an ID or a custom merge function, or ":"")+"define a custom merge function for the "+c+" field, so InMemoryCache can safely merge these objects:\n\n  existing: "+JSON.stringify(o).slice(0,1e3)+"\n  incoming: "+JSON.stringify(a).slice(0,1e3)+"\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n")}}}}(s,i,e,l.store)})}e.merge(r,i)}),e.retain(f.__ref),f},e.prototype.processSelectionSet=function(e){var t=this,n=e.dataId,r=e.result,i=e.selectionSet,o=e.context,a=e.mergeTree,s=this.cache.policies,u=s.identify(r,i,o.fragmentMap),c=u[1];if("string"==typeof(n=n||u[0])){var l=o.written[n]||(o.written[n]=[]),f=(0,w.kQ)(n);if(l.indexOf(i)>=0||(l.push(i),this.reader&&this.reader.isFresh(r,f,i,o)))return f}var h=Object.create(null);c&&(h=o.merge(h,c));var p=n&&s.rootTypenamesById[n]||(0,w.qw)(r,i,o.fragmentMap)||n&&o.store.get(n,"__typename");"string"==typeof p&&(h.__typename=p);var d=new Set(i.selections);if(d.forEach(function(e){var n;if((0,A.LZ)(e,o.variables))if((0,w.My)(e)){var i=(0,w.u2)(e),u=r[i],c=o.clientOnly;if(o.clientOnly=c||!(!e.directives||!e.directives.some(function(e){return"client"===e.name.value})),void 0!==u){var l=s.getStoreFieldName({typename:p,fieldName:e.name.value,field:e,variables:o.variables}),f=re(a,l),y=t.processFieldValue(u,e,o,f),v=void 0;if(e.selectionSet&&!(v=o.store.getFieldValue(y,"__typename"))&&(0,w.Yk)(y)){var m=o.incomingById.get(y.__ref);v=m&&m.fields.__typename}var g=s.getMergeFunction(p,e.name.value,v);g?f.info={field:e,typename:p,merge:g}:ae(a,l),h=o.merge(h,((n={})[l]=y,n))}else!o.clientOnly&&!S.Gw.added(e)&&__DEV__&&E.kG.error(("Missing field '"+(0,w.u2)(e)+"' while writing result "+JSON.stringify(r,null,2)).substring(0,1e3));o.clientOnly=c}else{var b=(0,_.hi)(e,o.fragmentMap);b&&s.fragmentMatches(b,p,r,o.variables)&&b.selectionSet.selections.forEach(d.add,d)}}),"string"==typeof n){var y=o.incomingById.get(n);return y?(y.fields=o.merge(y.fields,h),y.mergeTree=ie(y.mergeTree,a),y.selections.forEach(d.add,d),y.selections=d):o.incomingById.set(n,{fields:h,mergeTree:oe(a)?void 0:a,selections:d}),(0,w.kQ)(n)}return h},e.prototype.processFieldValue=function(e,t,n,r){var i=this;return t.selectionSet&&null!==e?Array.isArray(e)?e.map(function(e,o){var a=i.processFieldValue(e,t,n,re(r,o));return ae(r,o),a}):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,mergeTree:r}):__DEV__?(0,ee.X)(e):e},e.prototype.applyMerges=function(e,t,n,r,i){var o,a=this;if(e.map.size&&!(0,w.Yk)(n)){var s=Array.isArray(n)||!(0,w.Yk)(t)&&!I(t)?void 0:t,u=n;s&&!i&&(i=[(0,w.Yk)(s)?s.__ref:s]);var c,l=function(e,t){return Array.isArray(e)?"number"==typeof t?e[t]:void 0:r.store.getFieldValue(e,String(t))};e.map.forEach(function(e,t){var n=l(s,t),o=l(u,t);if(void 0!==o){i&&i.push(t);var f=a.applyMerges(e,n,o,r,i);f!==o&&(c=c||new Map).set(t,f),i&&(0,E.kG)(i.pop()===t)}}),c&&(n=Array.isArray(u)?u.slice(0):(0,v.pi)({},u),c.forEach(function(e,t){n[t]=e}))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,r,i&&(o=r.store).getStorage.apply(o,i)):n},e}(),ne=[];function re(e,t){var n=e.map;return n.has(t)||n.set(t,ne.pop()||{map:new Map}),n.get(t)}function ie(e,t){if(e===t||!t||oe(t))return e;if(!e||oe(e))return t;var n=e.info&&t.info?(0,v.pi)((0,v.pi)({},e.info),t.info):e.info||t.info,r=e.map.size&&t.map.size,i={info:n,map:r?new Map:e.map.size?e.map:t.map};if(r){var o=new Set(t.map.keys());e.map.forEach(function(e,n){i.map.set(n,ie(e,t.map.get(n))),o.delete(n)}),o.forEach(function(n){i.map.set(n,ie(t.map.get(n),e.map.get(n)))})}return i}function oe(e){return!e||!(e.info||e.map.size)}function ae(e,t){var n=e.map,r=n.get(t);r&&oe(r)&&(ne.push(r),n.delete(t))}var se=new Set,ue=c(85101),ce=c(63098);function le(e){var t=(0,ce.X)("stringifyForDisplay");return JSON.stringify(e,function(e,n){return void 0===n?t:n}).split(JSON.stringify(t)).join("<undefined>")}function fe(e){return void 0!==e.args?e.args:e.field?(0,w.NC)(e.field,e.variables):null}w.PT.setStringify(Z.B);var he=function(e,t){var n=e.__typename,r=e.id,i=e._id;if("string"==typeof n&&(t&&(t.keyObject=void 0!==r?{id:r}:void 0!==i?{_id:i}:void 0),void 0===r&&(r=i),void 0!==r))return n+":"+("number"==typeof r||"string"==typeof r?r:JSON.stringify(r))},pe=function(){},de=function(e,t){return t.fieldName},ye=function(e,t,n){return(0,n.mergeObjects)(e,t)},ve=function(e,t){return t},me=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,v.pi)({dataIdFromObject:he},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t,n){var r=t&&n?(0,w.qw)(e,t,n):e.__typename;if(r===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var i,o={typename:r,selectionSet:t,fragmentMap:n},a=r&&this.getTypePolicy(r),s=a&&a.keyFn||this.config.dataIdFromObject;s;){var u=s(e,o);if(!Array.isArray(u)){i=u;break}s=ke(u)}return i=i?String(i):void 0,o.keyObject?[i,o.keyObject]:[i]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach(function(n){var r=e[n],i=r.queryType,o=r.mutationType,a=r.subscriptionType,s=(0,v._T)(r,["queryType","mutationType","subscriptionType"]);i&&t.setRootTypename("Query",n),o&&t.setRootTypename("Mutation",n),a&&t.setRootTypename("Subscription",n),D.call(t.toBeAdded,n)?t.toBeAdded[n].push(s):t.toBeAdded[n]=[s]})},e.prototype.updateTypePolicy=function(e,t){var n=this,r=this.getTypePolicy(e),i=t.keyFields,o=t.fields;function a(e,t){e.merge="function"==typeof t?t:!0===t?ye:!1===t?ve:e.merge}a(r,t.merge),r.keyFn=!1===i?pe:Array.isArray(i)?ke(i):"function"==typeof i?i:r.keyFn,o&&Object.keys(o).forEach(function(t){var r=n.getFieldPolicy(e,t,!0),i=o[t];if("function"==typeof i)r.read=i;else{var s=i.keyArgs,u=i.read,c=i.merge;r.keyFn=!1===s?de:Array.isArray(s)?be(s):"function"==typeof s?s:r.keyFn,"function"==typeof u&&(r.read=u),a(r,c)}r.read&&r.merge&&(r.keyFn=r.keyFn||de)})},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var n="ROOT_"+e.toUpperCase(),r=this.rootTypenamesById[n];t!==r&&(__DEV__?(0,E.kG)(!r||r===e,"Cannot change root "+e+" __typename more than once"):(0,E.kG)(!r||r===e,2),r&&delete this.rootIdsByTypename[r],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(n){t.getSupertypeSet(n,!0),e[n].forEach(function(e){t.getSupertypeSet(e,!0).add(n);var r=e.match(P);(!r||r[0]!==e)&&t.fuzzySubtypes.set(e,new RegExp(e))})})},e.prototype.getTypePolicy=function(e){var t=this;if(!D.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var r=this.supertypeMap.get(e);r&&r.size&&r.forEach(function(e){var r=t.getTypePolicy(e),i=r.fields,o=(0,v._T)(r,["fields"]);Object.assign(n,o),Object.assign(n.fields,i)})}var i=this.toBeAdded[e];return i&&i.length&&i.splice(0).forEach(function(n){t.updateTypePolicy(e,n)}),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,n){if(e){var r=this.getTypePolicy(e).fields;return r[t]||n&&(r[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n},e.prototype.fragmentMatches=function(e,t,n,r){var i=this;if(!e.typeCondition)return!0;if(!t)return!1;var o=e.typeCondition.name.value;if(t===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var a=this.getSupertypeSet(t,!0),s=[a],u=function(e){var t=i.getSupertypeSet(e,!1);t&&t.size&&s.indexOf(t)<0&&s.push(t)},c=!(!n||!this.fuzzySubtypes.size),l=!1,f=0;f<s.length;++f){var h=s[f];if(h.has(o))return a.has(o)||(l&&__DEV__&&E.kG.warn("Inferring subtype "+t+" of supertype "+o),a.add(o)),!0;h.forEach(u),c&&f===s.length-1&&x(e.selectionSet,n,r)&&(c=!1,l=!0,this.fuzzySubtypes.forEach(function(e,n){var r=t.match(e);r&&r[0]===t&&u(n)}))}return!1},e.prototype.hasKeyArgs=function(e,t){var n=this.getFieldPolicy(e,t,!1);return!(!n||!n.keyFn)},e.prototype.getStoreFieldName=function(e){var t,n=e.typename,r=e.fieldName,i=this.getFieldPolicy(n,r,!1),o=i&&i.keyFn;if(o&&n)for(var a={typename:n,fieldName:r,field:e.field||null,variables:e.variables},s=fe(e);o;){var u=o(s,a);if(!Array.isArray(u)){t=u||r;break}o=be(u)}return void 0===t&&(t=e.field?(0,w.vf)(e.field,e.variables):(0,w.PT)(r,fe(e))),!1===t?r:r===F(t)?t:r+":"+t},e.prototype.readField=function(e,t){var n=e.from;if(n&&(e.field||e.fieldName)){if(void 0===e.typename){var r=t.store.getFieldValue(n,"__typename");r&&(e.typename=r)}var i=this.getStoreFieldName(e),o=F(i),a=t.store.getFieldValue(n,i),s=this.getFieldPolicy(e.typename,o,!1),u=s&&s.read;if(u){var c=ge(this,n,e,t,t.store.getStorage((0,w.Yk)(n)?n.__ref:n,i));return ue.ab.withValue(this.cache,u,[a,c])}return a}},e.prototype.getMergeFunction=function(e,t,n){var r=this.getFieldPolicy(e,t,!1),i=r&&r.merge;return!i&&n&&(i=(r=this.getTypePolicy(n))&&r.merge),i},e.prototype.runMergeFunction=function(e,t,n,r,i){var o=n.field,a=n.typename,s=n.merge;return s===ye?_e(r.store)(e,t):s===ve?t:(r.overwrite&&(e=void 0),s(e,t,ge(this,void 0,{typename:a,fieldName:o.name.value,field:o,variables:r.variables},r,i||Object.create(null))))},e}();function ge(e,t,n,r,i){var o=e.getStoreFieldName(n),a=F(o),s=n.variables||r.variables,u=r.store,c=u.toReference,l=u.canRead;return{args:fe(n),field:n.field||null,fieldName:a,storeFieldName:o,variables:s,isReference:w.Yk,toReference:c,storage:i,cache:e.cache,canRead:l,readField:function(n,i){var o;if("string"==typeof n)o={fieldName:n,from:arguments.length>1?i:t};else{if(!(0,j.s)(n))return void(__DEV__&&E.kG.warn("Unexpected readField arguments: "+le(Array.from(arguments))));o=(0,v.pi)({},n),D.call(n,"from")||(o.from=t)}return __DEV__&&void 0===o.from&&__DEV__&&E.kG.warn("Undefined 'from' passed to readField with arguments "+le(Array.from(arguments))),void 0===o.variables&&(o.variables=s),e.readField(o,r)},mergeObjects:_e(r.store)}}function _e(e){return function(t,n){if(Array.isArray(t)||Array.isArray(n))throw __DEV__?new E.ej("Cannot automatically merge arrays"):new E.ej(3);if((0,j.s)(t)&&(0,j.s)(n)){var r=e.getFieldValue(t,"__typename"),i=e.getFieldValue(n,"__typename");if(r&&i&&r!==i)return n;if((0,w.Yk)(t)&&I(n))return e.merge(t.__ref,n),t;if(I(t)&&(0,w.Yk)(n))return e.merge(t,n.__ref),n;if(I(t)&&I(n))return(0,v.pi)((0,v.pi)({},t),n)}return n}}function be(e){return function(t,n){return t?n.fieldName+":"+JSON.stringify(Se(t,e,!1)):n.fieldName}}function ke(e){var t=new N.B(T.m);return function(n,r){var i;if(r.selectionSet&&r.fragmentMap){var o=t.lookupArray([r.selectionSet,r.fragmentMap]);i=o.aliasMap||(o.aliasMap=we(r.selectionSet,r.fragmentMap))}var a=r.keyObject=Se(n,e,!0,i);return r.typename+":"+JSON.stringify(a)}}function we(e,t){var n=Object.create(null),r=new Set([e]);return r.forEach(function(e){e.selections.forEach(function(e){if((0,w.My)(e)){if(e.alias){var i=e.alias.value,o=e.name.value;o!==i&&((n.aliases||(n.aliases=Object.create(null)))[o]=i)}e.selectionSet&&((n.subsets||(n.subsets=Object.create(null)))[e.name.value]=we(e.selectionSet,t))}else{var a=(0,_.hi)(e,t);a&&r.add(a.selectionSet)}})}),n}function Se(e,t,n,r){var i,o,a=Object.create(null);return t.forEach(function(t){if(Array.isArray(t)){if("string"==typeof o&&"string"==typeof i){var s=r&&r.subsets;a[o]=Se(e[i],t,n,s&&s[o])}}else{var u=r&&r.aliases,c=u&&u[t]||t;D.call(e,c)?a[o=t]=e[i=c]:(__DEV__?(0,E.kG)(!n,"Missing field '"+c+"' while computing key fields"):(0,E.kG)(!n,4),i=o=void 0)}}),a}var Ee={dataIdFromObject:he,addTypename:!0,resultCaching:!0,typePolicies:{}},Te=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.watches=new Set,n.typenameDocumentCache=new Map,n.makeVar=ue.QS,n.txCount=0,n.config=(0,v.pi)((0,v.pi)({},Ee),t),n.addTypename=!!n.config.addTypename,n.policies=new me({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return(0,v.ZT)(t,e),t.prototype.init=function(){var e=this.data=new z.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()},t.prototype.resetResultCache=function(e){var t=this,n=this.storeReader;this.storeWriter=new te(this,this.storeReader=new X({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canon:e?void 0:n&&n.canon})),this.maybeBroadcastWatch=(0,m.re)(function(e,n){return t.broadcastWatch(e,n)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var n=e.optimistic?t.optimisticData:t.data;if(H(n))return n.makeCacheKey(e.query,e.callback,(0,Z.B)({optimistic:e.optimistic,rootId:e.rootId,variables:e.variables}))}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(e){return e.resetCaching()})},t.prototype.restore=function(e){return this.init(),e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var t=e.returnPartialData,n=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore((0,v.pi)((0,v.pi)({},e),{store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:n})).result||null}catch(r){if(r instanceof k)return null;throw r}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{!--this.txCount&&!1!==e.broadcast&&this.broadcastWatches()}},t.prototype.modify=function(e){if(D.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{!--this.txCount&&!1!==e.broadcast&&this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore((0,v.pi)((0,v.pi)({},e),{store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(e){var t=this;return this.watches.size||(0,ue._v)(this),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){t.watches.delete(e)&&!t.watches.size&&(0,ue.li)(t),t.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(e){Z.B.reset();var t=this.optimisticData.gc();return e&&!this.txCount&&(e.resetResultCache?this.resetResultCache(e.resetResultIdentities):e.resetResultIdentities&&this.storeReader.resetCanon()),t},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){return(0,w.Yk)(e)?e.__ref:this.policies.identify(e)[0]},t.prototype.evict=function(e){if(!e.id){if(D.call(e,"id"))return!1;e=(0,v.pi)((0,v.pi)({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e)}finally{!--this.txCount&&!1!==e.broadcast&&this.broadcastWatches()}},t.prototype.reset=function(){return this.init(),this.broadcastWatches(),Z.B.reset(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.batch=function(e){var t=this,n=e.update,r=e.optimistic,i=void 0===r||r,o=e.removeOptimistic,a=e.onWatchUpdated,s=function(e){var r=t.data,i=t.optimisticData;++t.txCount,e&&(t.data=t.optimisticData=e);try{n(t)}finally{--t.txCount,t.data=r,t.optimisticData=i}},u=new Set;a&&!this.txCount&&this.broadcastWatches((0,v.pi)((0,v.pi)({},e),{onWatchUpdated:function(e){return u.add(e),!1}})),"string"==typeof i?this.optimisticData=this.optimisticData.addLayer(i,s):!1===i?s(this.data):s(),"string"==typeof o&&(this.optimisticData=this.optimisticData.removeLayer(o)),a&&u.size?(this.broadcastWatches((0,v.pi)((0,v.pi)({},e),{onWatchUpdated:function(e,t){var n=a.call(this,e,t);return!1!==n&&u.delete(e),n}})),u.size&&u.forEach(function(e){return t.maybeBroadcastWatch.dirty(e)})):this.broadcastWatches(e)},t.prototype.performTransaction=function(e,t){return this.batch({update:e,optimistic:t||null!==t})},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=(0,S.Gw)(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach(function(n){return t.maybeBroadcastWatch(n,e)})},t.prototype.broadcastWatch=function(e,t){var n=e.lastDiff,r=this.diff({query:e.query,variables:e.variables,optimistic:e.optimistic});t&&(e.optimistic&&"string"==typeof t.optimistic&&(r.fromOptimisticTransaction=!0),t.onWatchUpdated&&!1===t.onWatchUpdated.call(this,e,r,n))||(!n||!(0,g.D)(n.result,r.result))&&e.callback(e.lastDiff=r,n)},t}(b),Oe=c(92189),Ae=c(78510),Ce=[],je=function(){var e=function e(){h(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=p.\u0275\u0275defineInjector({imports:[[Ae.RouterModule.forRoot(Ce,{useHash:!0,onSameUrlNavigation:"reload",relativeLinkResolution:"legacy"})],Ae.RouterModule]}),e}(),Re=c(9764),Ne=c(92343),De=c(1090),Pe=["mainOutlet"];function Fe(e,t){1&e&&p.\u0275\u0275element(0,"app-full-page-spinner")}function xe(e,t){if(1&e&&(p.\u0275\u0275elementContainerStart(0),p.\u0275\u0275template(1,Fe,1,0,"app-full-page-spinner",1),p.\u0275\u0275elementContainerEnd()),2&e){var n=t.ngIf;p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",n.loading)}}var Ie=function(){var e=function(){function e(t,n,r,i){var o=this;h(this,e),this.router=t,this.appStateStore=n,this.stateManager=r,this.systemConfigs=i,this.appState$=this.appStateStore.vm$.pipe((0,Ne.debounceTime)(0)),t.events.subscribe(function(e){return o.checkRouterEvent(e)})}return f(e,[{key:"checkRouterEvent",value:function(e){e instanceof Ae.NavigationStart&&(this.appStateStore.updateLoading("router-navigation",!0),this.conditionalCacheReset()),e instanceof Ae.NavigationEnd&&(window.scrollTo(0,0),this.appStateStore.setRouteUrl(e.url)),(e instanceof Ae.NavigationEnd||e instanceof Ae.NavigationCancel||e instanceof Ae.NavigationError)&&this.appStateStore.updateLoading("router-navigation",!1)}},{key:"conditionalCacheReset",value:function(){var e=this,t=this.systemConfigs.getConfigValue("cache_reset_actions"),n=this.appStateStore.getModule(),r=this.appStateStore.getView();if(t&&n){var i=t[n];!i||!i.length||i.some(function(t){if("any"===t||t===r)return e.stateManager.clearAuthBased(),!0})}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p.\u0275\u0275directiveInject(Ae.Router),p.\u0275\u0275directiveInject(Re.AppStateStore),p.\u0275\u0275directiveInject(Re.StateManager),p.\u0275\u0275directiveInject(Re.SystemConfigStore))},e.\u0275cmp=p.\u0275\u0275defineComponent({type:e,selectors:[["app-root"]],viewQuery:function(e,t){var n;(1&e&&p.\u0275\u0275viewQuery(Pe,7,p.ViewContainerRef),2&e)&&(p.\u0275\u0275queryRefresh(n=p.\u0275\u0275loadQuery())&&(t.mainOutlet=n.first))},decls:9,vars:3,consts:[[1,"app-shell"],[4,"ngIf"],["mainOutlet",""]],template:function(e,t){1&e&&(p.\u0275\u0275elementStart(0,"div",0),p.\u0275\u0275template(1,xe,2,1,"ng-container",1),p.\u0275\u0275pipe(2,"async"),p.\u0275\u0275element(3,"scrm-navbar-ui"),p.\u0275\u0275element(4,"scrm-message-ui"),p.\u0275\u0275element(5,"div",null,2),p.\u0275\u0275element(7,"router-outlet"),p.\u0275\u0275elementEnd(),p.\u0275\u0275element(8,"scrm-footer-ui")),2&e&&(p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",p.\u0275\u0275pipeBind1(2,1,t.appState$)))},directives:[De.NgIf,Re.NavbarUiComponent,Re.MessageUiComponent,Ae.RouterOutlet,Re.FooterUiComponent,Re.FullPageSpinnerComponent],pipes:[De.AsyncPipe],encapsulation:2}),e}(),Me=c(84562);function Le(){return"undefined"!=typeof window&&void 0!==window.document}function Be(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function qe(e){switch(e.length){case 0:return new Me.NoopAnimationPlayer;case 1:return e[0];default:return new Me.\u0275AnimationGroupPlayer(e)}}function Ve(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],u=-1,c=null;if(r.forEach(function(e){var n=e.offset,r=n==u,l=r&&c||{};Object.keys(e).forEach(function(n){var r=n,s=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,a),s){case Me.\u0275PRE_STYLE:s=i[n];break;case Me.AUTO_STYLE:s=o[n];break;default:s=t.normalizeStyleValue(n,r,s,a)}l[r]=s}),r||s.push(l),c=l,u=n}),a.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(a.join(l)))}return s}function ze(e,t,n,r){switch(t){case"start":e.onStart(function(){return r(n&&Ue(n,"start",e))});break;case"done":e.onDone(function(){return r(n&&Ue(n,"done",e))});break;case"destroy":e.onDestroy(function(){return r(n&&Ue(n,"destroy",e))})}}function Ue(e,t,n){var r=n.totalTime,i=Ge(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),o=e._data;return null!=o&&(i._data=o),i}function Ge(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function Qe(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function Ke(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var Ye=function(e,t){return!1},We=function(e,t){return!1},He=function(e,t,n){return[]},Ze=Be();(Ze||"undefined"!=typeof Element)&&(Ye=Le()?function(e,t){for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:function(e,t){return e.contains(t)},We=function(){if(Ze||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:We}(),He=function(e,t,n){var r=[];if(n)for(var i=e.querySelectorAll(t),o=0;o<i.length;o++)r.push(i[o]);else{var a=e.querySelector(t);a&&r.push(a)}return r});var Je=null,$e=!1;function Xe(e){Je||(Je=("undefined"!=typeof document?document.body:null)||{},$e=!!Je.style&&"WebkitAppearance"in Je.style);var t=!0;return Je.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in Je.style)&&$e&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Je.style)),t}var et=We,tt=Ye,nt=He;function rt(e){var t={};return Object.keys(e).forEach(function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]}),t}var it=function(){var e=function(){function e(){h(this,e)}return f(e,[{key:"validateStyleProperty",value:function(e){return Xe(e)}},{key:"matchesElement",value:function(e,t){return et(e,t)}},{key:"containsElement",value:function(e,t){return tt(e,t)}},{key:"query",value:function(e,t,n){return nt(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){return new Me.NoopAnimationPlayer(n,r)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=p.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),ot=function e(){h(this,e)};ot.NOOP=new it;var at="ng-enter",st="ng-leave",ut="ng-trigger",ct=".ng-trigger",lt="ng-animating",ft=".ng-animating";function ht(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:pt(parseFloat(t[1]),t[2])}function pt(e,t){switch(t){case"s":return 1e3*e;default:return e}}function dt(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,o="";if("string"==typeof e){var a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};r=pt(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=pt(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=e;if(!n){var c=!1,l=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&t.splice(l,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(e,t,n)}function yt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}function vt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var r in e)n[r]=e[r];else yt(e,n);return n}function mt(e,t,n){return n?t+":"+n+";":""}function gt(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style.item(n);t+=mt(0,r,e.style.getPropertyValue(r))}for(var i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=mt(0,Ct(i),e.style[i]));e.setAttribute("style",t)}function _t(e,t,n){e.style&&(Object.keys(t).forEach(function(r){var i=At(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]}),Be()&&gt(e))}function bt(e,t){e.style&&(Object.keys(t).forEach(function(t){var n=At(t);e.style[n]=""}),Be()&&gt(e))}function kt(e){return Array.isArray(e)?1==e.length?e[0]:(0,Me.sequence)(e):e}var wt=new RegExp("{{\\s*(.+?)\\s*}}","g");function St(e){var t=[];if("string"==typeof e){for(var n;n=wt.exec(e);)t.push(n[1]);wt.lastIndex=0}return t}function Et(e,t,n){var r=e.toString(),i=r.replace(wt,function(e,r){var i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param ".concat(r)),i=""),i.toString()});return i==r?e:i}function Tt(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var Ot=/-+([a-z0-9])/g;function At(e){return e.replace(Ot,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()})}function Ct(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function jt(e,t){return 0===e||0===t}function Rt(e,t,n){var r=Object.keys(n);if(r.length&&t.length){var i=t[0],o=[];if(r.forEach(function(e){i.hasOwnProperty(e)||o.push(e),i[e]=n[e]}),o.length)for(var a=function(){var n=t[s];o.forEach(function(t){n[t]=Dt(e,t)})},s=1;s<t.length;s++)a()}return t}function Nt(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #".concat(t.type))}}function Dt(e,t){return window.getComputedStyle(e)[t]}function Pt(e,t){var n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var o=i[1],a=i[2],s=i[3];t.push(It(o,s)),"<"==a[0]&&("*"!=o||"*"!=s)&&t.push(It(s,o))}(e,n,t)}):n.push(e),n}var Ft=new Set(["true","1"]),xt=new Set(["false","0"]);function It(e,t){var n=Ft.has(e)||xt.has(e),r=Ft.has(t)||xt.has(t);return function(i,o){var a="*"==e||e==i,s="*"==t||t==o;return!a&&n&&"boolean"==typeof i&&(a=i?Ft.has(e):xt.has(e)),!s&&r&&"boolean"==typeof o&&(s=o?Ft.has(t):xt.has(t)),a&&s}}var Mt=new RegExp("s*:selfs*,?","g");function Lt(e,t,n){return new Bt(e).build(t,n)}var Bt=function(){function e(t){h(this,e),this._driver=t}return f(e,[{key:"build",value:function(e,t){var n=new qt(t);return this._resetContextStyleTimingState(n),Nt(this,kt(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,r=t.queryCount=0,i=t.depCount=0,o=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,u=s.name;u.toString().split(/\s*,\s*/).forEach(function(e){s.name=e,o.push(n.visitState(s,t))}),s.name=u}else if(1==e.type){var c=n.visitTransition(e,t);r+=c.queryCount,i+=c.depCount,a.push(c)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach(function(e){if(Vt(e)){var t=e;Object.keys(t).forEach(function(e){St(t[e]).forEach(function(e){o.hasOwnProperty(e)||i.add(e)})})}}),i.size){var a=Tt(i.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n=Nt(this,kt(e.animation),t);return{type:1,matchers:Pt(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:zt(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map(function(e){return Nt(n,e,t)}),options:zt(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,o=e.steps.map(function(e){t.currentTime=r;var o=Nt(n,e,t);return i=Math.max(i,t.currentTime),o});return t.currentTime=i,{type:3,steps:o,options:zt(e.options)}}},{key:"visitAnimate",value:function(e,t){var n=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return Ut(dt(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some(function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)})){var i=Ut(0,0,"");return i.dynamic=!0,i.strValue=r,i}return Ut((n=n||dt(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=n;var r,i=e.styles?e.styles:(0,Me.style)({});if(5==i.type)r=this.visitKeyframes(i,t);else{var o=e.styles,a=!1;if(!o){a=!0;var s={};n.easing&&(s.easing=n.easing),o=(0,Me.style)(s)}t.currentTime+=n.duration+n.delay;var u=this.visitStyle(o,t);u.isEmptyStep=a,r=u}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach(function(e){"string"==typeof e?e==Me.AUTO_STYLE?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)}):n.push(e.styles);var r=!1,i=null;return n.forEach(function(e){if(Vt(e)){var t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(var o in t)if(t[o].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(function(e){"string"!=typeof e&&Object.keys(e).forEach(function(r){if(n._driver.validateStyleProperty(r)){var a=t.collectedStyles[t.currentQuerySelector],s=a[r],u=!0;s&&(o!=i&&o>=s.startTime&&i<=s.endTime&&(t.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(s.startTime,'ms" and "').concat(s.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),u=!1),o=s.startTime),u&&(a[r]={startTime:o,endTime:i}),t.options&&function(e,t,n){var r=t.params||{},i=St(e);i.length&&i.forEach(function(e){r.hasOwnProperty(e)||n.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})}(e[r],t.options,t.errors)}else t.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(e,t){var n=this,r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,c=e.steps.map(function(e){var r=n._makeStyleAst(e,t),c=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach(function(e){if(Vt(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}});else if(Vt(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),s=s||l<0||l>1,a=a||l<u,u=l,o.push(l),r});s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");var l=e.steps.length,f=0;i>0&&i<l?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(f=1/(l-1));var h=l-1,p=t.currentTime,d=t.currentAnimateTimings,y=d.duration;return c.forEach(function(e,i){var a=f>0?i==h?1:f*i:o[i],s=a*y;t.currentTime=p+d.delay+s,d.duration=s,n._validateStyleAst(e,t),e.offset=a,r.styles.push(e)}),r}},{key:"visitReference",value:function(e,t){return{type:8,animation:Nt(this,kt(e.animation),t),options:zt(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:zt(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:zt(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;var i=s(function(e){var t=!!e.split(/\s*,\s*/).find(function(e){return":self"==e});return t&&(e=e.replace(Mt,"")),[e=e.replace(/@\*/g,ct).replace(/@\w+/g,function(e){return ct+"-"+e.substr(1)}).replace(/:animating/g,ft),t]}(e.selector),2),o=i[0],a=i[1];t.currentQuerySelector=n.length?n+" "+o:o,Qe(t.collectedStyles,t.currentQuerySelector,{});var u=Nt(this,kt(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:u,originalSelector:e.selector,options:zt(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:dt(e.timings,t.errors,!0);return{type:12,animation:Nt(this,kt(e.animation),t),timings:n,options:null}}}]),e}(),qt=function e(t){h(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Vt(e){return!Array.isArray(e)&&"object"==typeof e}function zt(e){return e?(e=yt(e)).params&&(e.params=function(e){return e?yt(e):null}(e.params)):e={},e}function Ut(e,t,n){return{duration:e,delay:t,easing:n}}function Gt(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var Qt=function(){function e(){h(this,e),this._map=new Map}return f(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,r=this._map.get(e);r||this._map.set(e,r=[]),(n=r).push.apply(n,a(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),Kt=new RegExp(":enter","g"),Yt=new RegExp(":leave","g");function Wt(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new Ht).buildKeyframes(e,t,n,r,i,o,a,s,u,c)}var Ht=function(){function e(){h(this,e)}return f(e,[{key:"buildKeyframes",value:function(e,t,n,r,i,o,a,s,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new Qt;var l=new Jt(e,t,u,r,i,c,[]);l.options=s,l.currentTimeline.setStyles([o],null,l.errors,s),Nt(this,n,l);var f=l.timelines.filter(function(e){return e.containsAnimation()});if(f.length&&Object.keys(a).length){var h=f[f.length-1];h.allowOnlyTimelineStyles()||h.setStyles([a],null,l.errors,s)}return f.length?f.map(function(e){return e.buildKeyframes()}):[Gt(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?ht(n.duration):null,o=null!=n.delay?ht(n.delay):null;return 0!==i&&e.forEach(function(e){var n=t.appendInstructionToTimeline(e,i,o);r=Math.max(r,n.duration+n.delay)}),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),Nt(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&((i=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Zt);var a=ht(o.delay);i.delayNextStep(a)}e.steps.length&&(e.steps.forEach(function(e){return Nt(n,e,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?ht(e.options.delay):0;e.steps.forEach(function(a){var s=t.createSubContext(e.options);o&&s.delayNextStep(o),Nt(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)}),r.forEach(function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)}),t.transformIntoNewTimeline(i),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return dt(t.params?Et(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach(function(e){o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?ht(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Zt);var a=r,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;var u=null;s.forEach(function(r,i){t.currentQueryIndex=i;var s=t.createSubContext(e.options,r);o&&s.delayNextStep(o),r===t.element&&(u=s.currentTimeline),Nt(n,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),a=o*(t.currentQueryTotal-1),s=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=t.currentTimeline;s&&u.delayNextStep(s);var c=u.currentTime;Nt(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),e}(),Zt={},Jt=function(){function e(t,n,r,i,o,a,s,u){h(this,e),this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Zt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new $t(this._driver,n,0),s.push(this.currentTimeline)}return f(e,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(e,t){var n=this;if(e){var r=e,i=this.options;null!=r.duration&&(i.duration=ht(r.duration)),null!=r.delay&&(i.delay=ht(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach(function(e){(!t||!a.hasOwnProperty(e))&&(a[e]=Et(o[e],a,n.errors))})}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach(function(e){n[e]=t[e]})}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=Zt,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new Xt(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,r,i,o){var s=[];if(r&&s.push(this.element),e.length>0){e=(e=e.replace(Kt,"."+this._enterClassName)).replace(Yt,"."+this._leaveClassName);var u=this._driver.query(this.element,e,1!=n);0!==n&&(u=n<0?u.slice(u.length+n,u.length):u.slice(0,n)),s.push.apply(s,a(u))}return!i&&0==s.length&&o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),s}}]),e}(),$t=function(){function e(t,n,r,i){h(this,e),this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return f(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(function(e){t._backFill[e]=t._globalTimelineStyles[e]||Me.AUTO_STYLE,t._currentKeyframe[e]=Me.AUTO_STYLE}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var o=r&&r.params||{},a=function(e,t){var n,r={};return e.forEach(function(e){"*"===e?(n=n||Object.keys(t)).forEach(function(e){r[e]=Me.AUTO_STYLE}):vt(e,!1,r)}),r}(e,this._globalTimelineStyles);Object.keys(a).forEach(function(e){var t=Et(a[e],o,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:Me.AUTO_STYLE),i._updateStyle(e,t)})}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){e._currentKeyframe[n]=t[n]}),Object.keys(this._localTimelineStyles).forEach(function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])}))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach(function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach(function(n){var r=t._styleSummary[n],i=e._styleSummary[n];(!r||i.time>r.time)&&t._updateStyle(n,i.value)})}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach(function(o,a){var s=vt(o,!0);Object.keys(s).forEach(function(e){var r=s[e];r==Me.\u0275PRE_STYLE?t.add(e):r==Me.AUTO_STYLE&&n.add(e)}),r||(s.offset=a/e.duration),i.push(s)});var o=t.size?Tt(t.values()):[],a=n.size?Tt(n.values()):[];if(r){var s=i[0],u=yt(s);s.offset=0,u.offset=1,i=[s,u]}return Gt(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}}]),e}(),Xt=function(e){t(i,e);var n=r(i);function i(e,t,r,o,a,s){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return h(this,i),(u=n.call(this,e,t,s.delay)).element=t,u.keyframes=r,u.preStyleProps=o,u.postStyleProps=a,u._stretchStartingKeyframe=c,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return f(i,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=vt(e[0],!1);u.offset=0,o.push(u);var c=vt(e[0],!1);c.offset=en(s),o.push(c);for(var l=e.length-1,f=1;f<=l;f++){var h=vt(e[f],!1);h.offset=en((n+h.offset*r)/a),o.push(h)}r=a,n=0,i="",e=o}return Gt(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),i}($t);function en(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var tn=function e(){h(this,e)},nn=function(e){t(i,e);var n=r(i);function i(){return h(this,i),n.apply(this,arguments)}return f(i,[{key:"normalizePropertyName",value:function(e,t){return At(e)}},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",o=n.toString().trim();if(rn[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return o+i}}]),i}(tn),rn=function(e){var t={};return e.forEach(function(e){return t[e]=!0}),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function on(e,t,n,r,i,o,a,s,u,c,l,f,h){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:f,errors:h}}var an={},sn=function(){function e(t,n,r){h(this,e),this._triggerName=t,this.ast=n,this._stateStyles=r}return f(e,[{key:"match",value:function(e,t,n,r){return function(e,t,n,r,i){return e.some(function(e){return e(t,n,r,i)})}(this.ast.matchers,e,t,n,r)}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],i=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):o}},{key:"build",value:function(e,t,n,r,i,o,a,s,u,c){var l=[],f=this.ast.options&&this.ast.options.params||an,h=this.buildStyles(n,a&&a.params||an,l),p=s&&s.params||an,d=this.buildStyles(r,p,l),y=new Set,v=new Map,m=new Map,g="void"===r,_={params:Object.assign(Object.assign({},f),p)},b=c?[]:Wt(e,t,this.ast.animation,i,o,h,d,_,u,l),k=0;if(b.forEach(function(e){k=Math.max(e.duration+e.delay,k)}),l.length)return on(t,this._triggerName,n,r,g,h,d,[],[],v,m,k,l);b.forEach(function(e){var n=e.element,r=Qe(v,n,{});e.preStyleProps.forEach(function(e){return r[e]=!0});var i=Qe(m,n,{});e.postStyleProps.forEach(function(e){return i[e]=!0}),n!==t&&y.add(n)});var w=Tt(y.values());return on(t,this._triggerName,n,r,g,h,d,b,w,v,m,k)}}]),e}(),un=function(){function e(t,n){h(this,e),this.styles=t,this.defaultParams=n}return f(e,[{key:"buildStyles",value:function(e,t){var n={},r=yt(this.defaultParams);return Object.keys(e).forEach(function(t){var n=e[t];null!=n&&(r[t]=n)}),this.styles.styles.forEach(function(e){if("string"!=typeof e){var i=e;Object.keys(i).forEach(function(e){var o=i[e];o.length>1&&(o=Et(o,r,t)),n[e]=o})}}),n}}]),e}(),cn=function(){function e(t,n){var r=this;h(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach(function(e){r.states[e.name]=new un(e.style,e.options&&e.options.params||{})}),ln(this.states,"true","1"),ln(this.states,"false","0"),n.transitions.forEach(function(e){r.transitionFactories.push(new sn(t,e,r.states))}),this.fallbackTransition=function(e,t){return new sn(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},t)}(t,this.states)}return f(e,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(e,t,n,r){return this.transitionFactories.find(function(i){return i.match(e,t,n,r)})||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}]),e}();function ln(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var fn=new Qt,hn=function(){function e(t,n,r){h(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return f(e,[{key:"register",value:function(e,t){var n=[],r=Lt(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[e]=r}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,i=Ve(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[e],s=new Map;if(a?(n=Wt(this._driver,t,a,at,st,{},{},i,fn,o)).forEach(function(e){var t=Qe(s,e.element,{});e.postStyleProps.forEach(function(e){return t[e]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));s.forEach(function(e,t){Object.keys(e).forEach(function(n){e[n]=r._driver.computeStyle(t,n,Me.AUTO_STYLE)})});var u=qe(n.map(function(e){var t=s.get(e.element);return r._buildPlayer(e,{},t)}));return this._playersById[e]=u,u.onDestroy(function(){return r.destroy(e)}),this.players.push(u),u}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by ".concat(e));return t}},{key:"listen",value:function(e,t,n,r){var i=Ge(t,"","","");return ze(this._getPlayer(e),n,i,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),e}(),pn="ng-animate-queued",dn="ng-animate-disabled",yn=".ng-animate-disabled",vn=[],mn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},gn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_n="__ng_removed",bn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";h(this,e),this.namespaceId=n;var r=t&&t.hasOwnProperty("value");if(this.value=function(e){return null!=e?e:null}(r?t.value:t),r){var i=yt(t);delete i.value,this.options=i}else this.options={};this.options.params||(this.options.params={})}return f(e,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach(function(e){null==n[e]&&(n[e]=t[e])})}}}]),e}(),kn="void",wn=new bn(kn),Sn=function(){function e(t,n,r){h(this,e),this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Nn(n,this._hostClassName)}return f(e,[{key:"listen",value:function(e,t,n,r){var i=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if(!function(e){return"start"==e||"done"==e}(n))throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var o=Qe(this._elementListeners,e,[]),a={name:t,phase:n,callback:r};o.push(a);var s=Qe(this._engine.statesByElement,e,{});return s.hasOwnProperty(t)||(Nn(e,ut),Nn(e,ut+"-"+t),s[t]=wn),function(){i._engine.afterFlush(function(){var e=o.indexOf(a);e>=0&&o.splice(e,1),i._triggers[t]||delete s[t]})}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(t),a=new Tn(this.id,t,e),s=this._engine.statesByElement.get(e);s||(Nn(e,ut),Nn(e,ut+"-"+t),this._engine.statesByElement.set(e,s={}));var u=s[t],c=new bn(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),s[t]=c,u||(u=wn),c.value===kn||u.value!==c.value){var l=Qe(this._engine.playersByElement,e,[]);l.forEach(function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()});var f=o.matchTransition(u.value,c.value,e,c.params),h=!1;if(!f){if(!i)return;f=o.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:u,toState:c,player:a,isFallbackTransition:h}),h||(Nn(e,pn),a.onStart(function(){Dn(e,pn)})),a.onDone(function(){var t=r.players.indexOf(a);t>=0&&r.players.splice(t,1);var n=r._engine.playersByElement.get(e);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}}),this.players.push(a),l.push(a),a}if(!function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(u.params,c.params)){var p=[],d=o.matchStyles(u.value,u.params,p),y=o.matchStyles(c.value,c.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush(function(){bt(e,d),_t(e,y)})}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach(function(t,n){delete t[e]}),this._elementListeners.forEach(function(n,r){t._elementListeners.set(r,n.filter(function(t){return t.name!=e}))})}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach(function(e){return e.destroy()}),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,r=this._engine.driver.query(e,ct,!0);r.forEach(function(e){if(!e[_n]){var r=n._engine.fetchNamespacesByElement(e);r.size?r.forEach(function(n){return n.triggerLeaveAnimation(e,t,!1,!0)}):n.clearElementCache(e)}}),this._engine.afterFlushAnimationsDone(function(){return r.forEach(function(e){return n.clearElementCache(e)})})}},{key:"triggerLeaveAnimation",value:function(e,t,n,r){var i=this,o=this._engine.statesByElement.get(e);if(o){var a=[];if(Object.keys(o).forEach(function(t){if(i._triggers[t]){var n=i.trigger(e,t,kn,r);n&&a.push(n)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&qe(a).onDone(function(){return i._engine.processLeaveNode(e)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){var i=new Set;n.forEach(function(n){var o=n.name;if(!i.has(o)){i.add(o);var a=t._triggers[o].fallbackTransition,s=r[o]||wn,u=new bn(kn),c=new Tn(t.id,o,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:o,transition:a,fromState:s,toState:u,player:c,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else for(var a=e;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{var s=e[_n];(!s||s===mn)&&(r.afterFlush(function(){return n.clearElementCache(e)}),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){Nn(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach(function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=t._elementListeners.get(o);a&&a.forEach(function(t){if(t.name==r.triggerName){var n=Ge(o,r.triggerName,r.fromState.value,r.toState.value);n._data=e,ze(r.player,t.phase,n,t.callback)}}),i.markedForDestroy?t._engine.afterFlush(function(){i.destroy()}):n.push(r)}}),this._queue=[],n.sort(function(e,n){var r=e.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:t._engine.driver.containsElement(e.element,n.element)?1:-1})}},{key:"destroy",value:function(e){this.players.forEach(function(e){return e.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(function(t){return t.element===e})||t}}]),e}(),En=function(){function e(t,n,r){h(this,e),this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return f(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach(function(t){t.players.forEach(function(t){t.queued&&e.push(t)})}),e}},{key:"createNamespace",value:function(e,t){var n=new Sn(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var r=this._fetchNamespace(e);this.afterFlush(function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(r);t>=0&&n._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(function(){return r.destroy(t)})}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&t.add(a)}}return t}},{key:"trigger",value:function(e,t,n,r){if(On(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){if(On(t)){var i=t[_n];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var a=this._fetchNamespace(e);a&&a.insertNode(t,n)}r&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Nn(e,dn)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Dn(e,dn))}},{key:"removeNode",value:function(e,t,n,r){if(On(t)){var i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){var o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t[_n]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return On(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,ct,!0);n.forEach(function(e){return t.destroyActiveAnimationsForElement(e)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,ft,!0)).forEach(function(e){return t.finishActiveQueriedAnimationOnElement(e)})}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach(function(e){e.queued?e.markedForDestroy=!0:e.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach(function(e){return e.finish()})}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise(function(t){if(e.players.length)return qe(e.players).onDone(function(){return t()});t()})}},{key:"processLeaveNode",value:function(e){var t=this,n=e[_n];if(n&&n.setForRemoval){if(e[_n]=mn,n.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,yn)&&this.markElementAsDisabled(e,!1),this.driver.query(e,yn,!0).forEach(function(e){t.markElementAsDisabled(e,!1)})}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(t,n){return e._balanceNamespaceList(t,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)Nn(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(e){return e()}),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?qe(n).onDone(function(){s.forEach(function(e){return e()})}):s.forEach(function(e){return e()})}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(e.join("\n")))}},{key:"_flushAnimations",value:function(e,t){var n=this,r=new Qt,i=[],o=new Map,s=[],u=new Map,c=new Map,l=new Map,f=new Set;this.disabledNodes.forEach(function(e){f.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),r=0;r<t.length;r++)f.add(t[r])});var h=this.bodyNode,p=Array.from(this.statesByElement.keys()),d=jn(p,this.collectedEnterElements),y=new Map,v=0;d.forEach(function(e,t){var n=at+v++;y.set(t,n),e.forEach(function(e){return Nn(e,n)})});for(var m=[],g=new Set,_=new Set,b=0;b<this.collectedLeaveElements.length;b++){var k=this.collectedLeaveElements[b],w=k[_n];w&&w.setForRemoval&&(m.push(k),g.add(k),w.hasAnimation?this.driver.query(k,".ng-star-inserted",!0).forEach(function(e){return g.add(e)}):_.add(k))}var S=new Map,E=jn(p,Array.from(g));E.forEach(function(e,t){var n=st+v++;S.set(t,n),e.forEach(function(e){return Nn(e,n)})}),e.push(function(){d.forEach(function(e,t){var n=y.get(t);e.forEach(function(e){return Dn(e,n)})}),E.forEach(function(e,t){var n=S.get(t);e.forEach(function(e){return Dn(e,n)})}),m.forEach(function(e){n.processLeaveNode(e)})});for(var T=[],O=[],A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(t).forEach(function(e){var t=e.player,o=e.element;if(T.push(t),n.collectedEnterElements.length){var a=o[_n];if(a&&a.setForMove)return void t.destroy()}var f=!h||!n.driver.containsElement(h,o),p=S.get(o),d=y.get(o),v=n._buildInstruction(e,r,d,p,f);if(v.errors&&v.errors.length)O.push(v);else{if(f)return t.onStart(function(){return bt(o,v.fromStyles)}),t.onDestroy(function(){return _t(o,v.toStyles)}),void i.push(t);if(e.isFallbackTransition)return t.onStart(function(){return bt(o,v.fromStyles)}),t.onDestroy(function(){return _t(o,v.toStyles)}),void i.push(t);v.timelines.forEach(function(e){return e.stretchStartingKeyframe=!0}),r.append(o,v.timelines),s.push({instruction:v,player:t,element:o}),v.queriedElements.forEach(function(e){return Qe(u,e,[]).push(t)}),v.preStyleProps.forEach(function(e,t){var n=Object.keys(e);if(n.length){var r=c.get(t);r||c.set(t,r=new Set),n.forEach(function(e){return r.add(e)})}}),v.postStyleProps.forEach(function(e,t){var n=Object.keys(e),r=l.get(t);r||l.set(t,r=new Set),n.forEach(function(e){return r.add(e)})})}});if(O.length){var C=[];O.forEach(function(e){C.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach(function(e){return C.push("- ".concat(e,"\n"))})}),T.forEach(function(e){return e.destroy()}),this.reportError(C)}var j=new Map,R=new Map;s.forEach(function(e){var t=e.element;r.has(t)&&(R.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,j))}),i.forEach(function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(function(e){Qe(j,t,[]).push(e),e.destroy()})});var N=m.filter(function(e){return xn(e,c,l)}),D=new Map;Cn(D,this.driver,_,l,Me.AUTO_STYLE).forEach(function(e){xn(e,c,l)&&N.push(e)});var P=new Map;d.forEach(function(e,t){Cn(P,n.driver,new Set(e),c,Me.\u0275PRE_STYLE)}),N.forEach(function(e){var t=D.get(e),n=P.get(e);D.set(e,Object.assign(Object.assign({},t),n))});var F=[],x=[],I={};s.forEach(function(e){var t=e.element,a=e.player,s=e.instruction;if(r.has(t)){if(f.has(t))return a.onDestroy(function(){return _t(t,s.toStyles)}),a.disabled=!0,a.overrideTotalTime(s.totalTime),void i.push(a);var u=I;if(R.size>1){for(var c=t,l=[];c=c.parentNode;){var h=R.get(c);if(h){u=h;break}l.push(c)}l.forEach(function(e){return R.set(e,u)})}var p=n._buildAnimation(a.namespaceId,s,j,o,P,D);if(a.setRealPlayer(p),u===I)F.push(a);else{var d=n.playersByElement.get(u);d&&d.length&&(a.parentPlayer=qe(d)),i.push(a)}}else bt(t,s.fromStyles),a.onDestroy(function(){return _t(t,s.toStyles)}),x.push(a),f.has(t)&&i.push(a)}),x.forEach(function(e){var t=o.get(e.element);if(t&&t.length){var n=qe(t);e.setRealPlayer(n)}}),i.forEach(function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(var M=0;M<m.length;M++){var L=m[M],B=L[_n];if(Dn(L,st),!B||!B.hasAnimation){var q=[];if(u.size){var V=u.get(L);V&&V.length&&q.push.apply(q,a(V));for(var z=this.driver.query(L,ft,!0),U=0;U<z.length;U++){var G=u.get(z[U]);G&&G.length&&q.push.apply(q,a(G))}}var Q=q.filter(function(e){return!e.destroyed});Q.length?Pn(this,L,Q):this.processLeaveNode(L)}}return m.length=0,F.forEach(function(e){n.players.push(e),e.onDone(function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)}),e.play()}),F}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t[_n];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var o=[];if(t){var a=this.playersByQueriedElement.get(e);a&&(o=a)}else{var s=this.playersByElement.get(e);if(s){var u=!i||i==kn;s.forEach(function(e){e.queued||!u&&e.triggerName!=r||o.push(e)})}}return(n||r)&&(o=o.filter(function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)})),o}},{key:"_beforeAnimationBuild",value:function(e,t,n){var r,i=this,o=t.element,a=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,c=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(t.timelines);try{var l=function(){var e=r.value.element,u=e!==o,c=Qe(n,e,[]);i._getPreviousPlayers(e,u,a,s,t.toState).forEach(function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),c.push(e)})};for(c.s();!(r=c.n()).done;)l()}catch(f){c.e(f)}finally{c.f()}bt(o,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,r,i,o){var a=this,s=t.triggerName,u=t.element,c=[],l=new Set,f=new Set,h=t.timelines.map(function(t){var h=t.element;l.add(h);var p=h[_n];if(p&&p.removedBeforeQueried)return new Me.NoopAnimationPlayer(t.duration,t.delay);var d=h!==u,y=function(e){var t=[];return Fn(e,t),t}((n.get(h)||vn).map(function(e){return e.getRealPlayer()})).filter(function(e){return!!e.element&&e.element===h}),v=i.get(h),m=o.get(h),g=Ve(0,a._normalizer,0,t.keyframes,v,m),_=a._buildPlayer(t,g,y);if(t.subTimeline&&r&&f.add(h),d){var b=new Tn(e,s,h);b.setRealPlayer(_),c.push(b)}return _});c.forEach(function(e){Qe(a.playersByQueriedElement,e.element,[]).push(e),e.onDone(function(){return function(e,t,n){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else if(r=e[t]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete e[t]}return r}(a.playersByQueriedElement,e.element,e)})}),l.forEach(function(e){return Nn(e,lt)});var p=qe(h);return p.onDestroy(function(){l.forEach(function(e){return Dn(e,lt)}),_t(u,t.toStyles)}),f.forEach(function(e){Qe(r,e,[]).push(p)}),p}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Me.NoopAnimationPlayer(e.duration,e.delay)}}]),e}(),Tn=function(){function e(t,n,r){h(this,e),this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new Me.NoopAnimationPlayer,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return f(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(function(n){t._queuedCallbacks[n].forEach(function(t){return ze(e,n,void 0,t)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart(function(){return n.triggerCallback("start")}),e.onDone(function(){return t.finish()}),e.onDestroy(function(){return t.destroy()})}},{key:"_queueEvent",value:function(e,t){Qe(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function On(e){return e&&1===e.nodeType}function An(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function Cn(e,t,n,r,i){var o=[];n.forEach(function(e){return o.push(An(e))});var a=[];r.forEach(function(n,r){var o={};n.forEach(function(e){var n=o[e]=t.computeStyle(r,e,i);(!n||0==n.length)&&(r[_n]=gn,a.push(r))}),e.set(r,o)});var s=0;return n.forEach(function(e){return An(e,o[s++])}),a}function jn(e,t){var n=new Map;if(e.forEach(function(e){return n.set(e,[])}),0==t.length)return n;var r=new Set(t),i=new Map;function o(e){if(!e)return 1;var t=i.get(e);if(t)return t;var a=e.parentNode;return t=n.has(a)?a:r.has(a)?1:o(a),i.set(e,t),t}return t.forEach(function(e){var t=o(e);1!==t&&n.get(t).push(e)}),n}var Rn="$$classes";function Nn(e,t){if(e.classList)e.classList.add(t);else{var n=e[Rn];n||(n=e[Rn]={}),n[t]=!0}}function Dn(e,t){if(e.classList)e.classList.remove(t);else{var n=e[Rn];n&&delete n[t]}}function Pn(e,t,n){qe(n).onDone(function(){return e.processLeaveNode(t)})}function Fn(e,t){for(var n=0;n<e.length;n++){var r=e[n];r instanceof Me.\u0275AnimationGroupPlayer?Fn(r.players,t):t.push(r)}}function xn(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach(function(e){return i.add(e)}):t.set(e,r),n.delete(e),!0}var In=function(){function e(t,n,r){var i=this;h(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new En(t,n,r),this._timelineEngine=new hn(t,n,r),this._transitionEngine.onRemovalComplete=function(e,t){return i.onRemovalComplete(e,t)}}return f(e,[{key:"registerTrigger",value:function(e,t,n,r,i){var o=e+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=Lt(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(e,t){return new cn(e,t)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,r){if("@"==n.charAt(0)){var i=s(Ke(n),2),o=i[0],a=i[1];this._timelineEngine.command(o,t,a,r)}else this._transitionEngine.trigger(e,t,n,r)}},{key:"listen",value:function(e,t,n,r,i){if("@"==n.charAt(0)){var o=s(Ke(n),2),a=o[0],u=o[1];return this._timelineEngine.listen(a,t,u,i)}return this._transitionEngine.listen(e,t,n,r,i)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),e}();function Mn(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=Bn(t[0]),t.length>1&&(r=Bn(t[t.length-1]))):t&&(n=Bn(t)),n||r?new Ln(e,n,r):null}var Ln=function(){function e(t,n,r){h(this,e),this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;var i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}return f(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&_t(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(_t(this._element,this._initialStyles),this._endStyles&&(_t(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(bt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bt(this._element,this._endStyles),this._endStyles=null),_t(this._element,this._initialStyles),this._state=3)}}]),e}();function Bn(e){for(var t=null,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];qn(i)&&((t=t||{})[i]=e[i])}return t}function qn(e){return"display"===e||"position"===e}Ln.initialStylesByElement=new WeakMap;var Vn="animation",zn="animationend",Un=function(){function e(t,n,r,i,o,a,s){var u=this;h(this,e),this._element=t,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return u._handleCallback(e)}}return f(e,[{key:"apply",value:function(){(function(e,t){var n=Hn(e,"").trim();n.length&&(function(e,t){for(var n=0,r=0;r<e.length;r++)","===e.charAt(r)&&n++}(n),t="".concat(n,", ").concat(t)),Wn(e,"",t)})(this._element,"".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name)),Yn(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){Gn(this._element,this._name,"paused")}},{key:"resume",value:function(){Gn(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=Qn(this._element,this._name);this._position=e*this._duration,Wn(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Yn(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){var n=Hn(e,"").split(","),r=Kn(n,t);r>=0&&(n.splice(r,1),Wn(e,"",n.join(",")))}(this._element,this._name))}}]),e}();function Gn(e,t,n){Wn(e,"PlayState",n,Qn(e,t))}function Qn(e,t){var n=Hn(e,"");return n.indexOf(",")>0?Kn(n.split(","),t):Kn([n],t)}function Kn(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function Yn(e,t,n){n?e.removeEventListener(zn,t):e.addEventListener(zn,t)}function Wn(e,t,n,r){var i=Vn+t;if(null!=r){var o=e.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}e.style[i]=n}function Hn(e,t){return e.style[Vn+t]||""}var Zn=function(){function e(t,n,r,i,o,a,s,u){h(this,e),this.element=t,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return f(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new Un(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return e.finish()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(r){"offset"!=r&&(t[r]=n?e._finalStyles[r]:Dt(e.element,r))})}this.currentSnapshot=t}}]),e}(),Jn=function(n){t(a,n);var i=r(a);function a(e,t){var n;return h(this,a),(n=i.call(this)).element=e,n._startingStyles={},n.__initialized=!1,n._styles=rt(t),n}return f(a,[{key:"init",value:function(){var t=this;this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(function(e){t._startingStyles[e]=t.element.style[e]}),e(o(a.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(function(e){return t.element.style.setProperty(e,t._styles[e])}),e(o(a.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;!this._startingStyles||(Object.keys(this._startingStyles).forEach(function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)}),this._startingStyles=null,e(o(a.prototype),"destroy",this).call(this))}}]),a}(Me.NoopAnimationPlayer),$n=function(){function e(){h(this,e),this._count=0}return f(e,[{key:"validateStyleProperty",value:function(e){return Xe(e)}},{key:"matchesElement",value:function(e,t){return et(e,t)}},{key:"containsElement",value:function(e,t){return tt(e,t)}},{key:"query",value:function(e,t,n){return nt(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map(function(e){return rt(e)});var r="@keyframes ".concat(t," {\n"),i="";n.forEach(function(e){i=" ";var t=parseFloat(e.offset);r+="".concat(i).concat(100*t,"% {\n"),i+=" ",Object.keys(e).forEach(function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(t,": ").concat(n,";\n"))}}),r+="".concat(i,"}\n")}),r+="}\n";var o=document.createElement("style");return o.textContent=r,o}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=o.filter(function(e){return e instanceof Zn}),s={};jt(n,r)&&a.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return s[e]=t[e]})});var u=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach(function(e){Object.keys(e).forEach(function(n){"offset"==n||"easing"==n||(t[n]=e[n])})}),t}(t=Rt(e,t,s));if(0==n)return new Jn(e,u);var c="gen_css_kf_"+this._count++,l=this.buildKeyframeElement(e,c,t);(function(e){var t,n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(e).appendChild(l);var f=Mn(e,t),h=new Zn(e,t,c,n,r,i,u,f);return h.onDestroy(function(){return function(e){e.parentNode.removeChild(e)}(l)}),h}}]),e}(),Xn=function(){function e(t,n,r,i){h(this,e),this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return f(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",function(){return e._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:Dt(e.element,n))}),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),er=function(){function e(){h(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(tr().toString()),this._cssKeyframesDriver=new $n}return f(e,[{key:"validateStyleProperty",value:function(e){return Xe(e)}},{key:"matchesElement",value:function(e,t){return et(e,t)}},{key:"containsElement",value:function(e,t){return tt(e,t)}},{key:"query",value:function(e,t,n){return nt(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},c=o.filter(function(e){return e instanceof Xn});jt(n,r)&&c.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return u[e]=t[e]})});var l=Mn(e,t=Rt(e,t=t.map(function(e){return vt(e,!1)}),u));return new Xn(e,t,s,l)}}]),e}();function tr(){return Le()&&Element.prototype.animate||{}}var nr=function(){var e=function(e){t(i,e);var n=r(i);function i(e,t){var r;return h(this,i),(r=n.call(this))._nextAnimationId=0,r._renderer=e.createRenderer(t.body,{id:"0",encapsulation:p.ViewEncapsulation.None,styles:[],data:{animation:[]}}),r}return f(i,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?(0,Me.sequence)(e):e;return or(this._renderer,null,t,"register",[n]),new rr(t,this._renderer)}}]),i}(Me.AnimationBuilder);return e.\u0275fac=function(t){return new(t||e)(p.\u0275\u0275inject(p.RendererFactory2),p.\u0275\u0275inject(De.DOCUMENT))},e.\u0275prov=p.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),rr=function(e){t(i,e);var n=r(i);function i(e,t){var r;return h(this,i),(r=n.call(this))._id=e,r._renderer=t,r}return f(i,[{key:"create",value:function(e,t){return new ir(this._id,e,t||{},this._renderer)}}]),i}(Me.AnimationFactory),ir=function(){function e(t,n,r,i){h(this,e),this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return f(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return or(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset"),this._started=!1}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}]),e}();function or(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}var ar="@.disabled",sr=function(){var e=function(){function e(t,n,r){h(this,e),this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return f(e,[{key:"createRenderer",value:function(e,t){var n=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var i=this._rendererCache.get(r);return i||(i=new ur("",r,this.engine),this._rendererCache.set(r,i)),i}var o=t.id,a=t.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);return t.data.animation.forEach(function t(r){Array.isArray(r)?r.forEach(t):n.engine.registerTrigger(o,a,e,r.name,r)}),new cr(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then(function(){e._microtaskId++})}},{key:"scheduleListenerCallback",value:function(e,t,n){var r=this;e>=0&&e<this._microtaskId?this._zone.run(function(){return t(n)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){r._zone.run(function(){r._animationCallbacksBuffer.forEach(function(e){var t=s(e,2);(0,t[0])(t[1])}),r._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p.\u0275\u0275inject(p.RendererFactory2),p.\u0275\u0275inject(In),p.\u0275\u0275inject(p.NgZone))},e.\u0275prov=p.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),ur=function(){function e(t,n,r){h(this,e),this.namespaceId=t,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return f(e,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&t==ar?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}}]),e}(),cr=function(e){t(i,e);var n=r(i);function i(e,t,r,o){var a;return h(this,i),(a=n.call(this,t,r,o)).factory=e,a.namespaceId=t,a}return f(i,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==ar?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var r=this;if("@"==t.charAt(0)){var i,o=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),a=t.substr(1),u="";return"@"!=a.charAt(0)&&(a=(i=s(function(e){var t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(a),2))[0],u=i[1]),this.engine.listen(this.namespaceId,o,a,u,function(e){r.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}]),i}(ur),lr=function(){var e=function(e){t(i,e);var n=r(i);function i(e,t,r){return h(this,i),n.call(this,e.body,t,r)}return f(i,[{key:"ngOnDestroy",value:function(){this.flush()}}]),i}(In);return e.\u0275fac=function(t){return new(t||e)(p.\u0275\u0275inject(De.DOCUMENT),p.\u0275\u0275inject(ot),p.\u0275\u0275inject(tn))},e.\u0275prov=p.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),fr=new p.InjectionToken("AnimationModuleType"),hr=[{provide:Me.AnimationBuilder,useClass:nr},{provide:tn,useFactory:function(){return new nn}},{provide:In,useClass:lr},{provide:p.RendererFactory2,useFactory:function(e,t,n){return new sr(e,t,n)},deps:[l.se,In,p.NgZone]}],pr=[{provide:ot,useFactory:function(){return"function"==typeof tr()?new er:new $n}},{provide:fr,useValue:"BrowserAnimations"}].concat(hr),dr=[{provide:ot,useClass:it},{provide:fr,useValue:"NoopAnimations"}].concat(hr),yr=function(){var e=function(){function e(){h(this,e)}return f(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:t.disableAnimations?dr:pr}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=p.\u0275\u0275defineInjector({providers:pr,imports:[l.b2]}),e}(),vr=c(87255),mr=function(){var e=function(){function e(){h(this,e)}return f(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return(!e.data||!1!==e.data.reuseRoute)&&e.routeConfig===t.routeConfig}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=p.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),gr=c(92064),_r=c(80273),br=function(){var e=function(){function e(t,n,r,i){h(this,e),this.router=t,this.systemConfigStore=n,this.injector=r,this.extensionLoader=i}return f(e,[{key:"init",value:function(){var e=this;return new Promise(function(t){e.systemConfigStore.load().subscribe(function(){e.extensionLoader.load(e.injector).pipe((0,Ne.take)(1)).subscribe(function(){var n=e.router.config,r=e.systemConfigStore.getConfigValue("module_routing");n.push({path:"Login",component:Re.LoginUiComponent,canActivate:[Re.LoginAuthGuard],runGuardsAndResolvers:"always",resolve:{metadata:Re.BaseMetadataResolver},data:{reuseRoute:!1,load:{navigation:!1,preferences:!1,languageStrings:["appStrings"]}}}),n.push({path:"install",component:Re.InstallViewComponent,canActivate:[Re.InstallAuthGuard],runGuardsAndResolvers:"always",resolve:{metadata:Re.BaseMetadataResolver},data:{reuseRoute:!1,checkSession:!1,load:{navigation:!1,preferences:!1,languageStrings:["appStrings"]}}}),Object.keys(r).forEach(function(e){r[e].index&&(n.push({path:e,component:Re.ListComponent,canActivate:[Re.AuthGuard],runGuardsAndResolvers:"always",resolve:{metadata:Re.BaseModuleResolver},data:{reuseRoute:!1,checkSession:!0,module:e}}),n.push({path:e+"/index",component:Re.ListComponent,canActivate:[Re.AuthGuard],runGuardsAndResolvers:"always",resolve:{metadata:Re.BaseModuleResolver},data:{reuseRoute:!1,checkSession:!0,module:e}})),r[e].list&&n.push({path:e+"/list",component:Re.ListComponent,canActivate:[Re.AuthGuard],runGuardsAndResolvers:"always",resolve:{metadata:Re.BaseModuleResolver},data:{reuseRoute:!1,checkSession:!0,module:e}}),!(0,_r.isFalse)(r[e].create)&&!(0,_r.isFalse)(r[e].record)&&(n.push({path:e+"/create",component:Re.CreateRecordComponent,canActivate:[Re.AuthGuard],runGuardsAndResolvers:"always",resolve:{view:Re.BaseModuleResolver,metadata:Re.BaseRecordResolver},data:{reuseRoute:!1,checkSession:!0,module:e,mode:"create"}}),n.push({path:e+"/edit",component:Re.CreateRecordComponent,canActivate:[Re.AuthGuard],runGuardsAndResolvers:"always",resolve:{view:Re.BaseModuleResolver,metadata:Re.BaseRecordResolver},data:{reuseRoute:!1,checkSession:!0,module:e,mode:"create"}})),r[e].record&&(n.push({path:e+"/record/:record",component:Re.RecordComponent,canActivate:[Re.AuthGuard],runGuardsAndResolvers:"always",resolve:{view:Re.BaseModuleResolver,metadata:Re.BaseRecordResolver},data:{reuseRoute:!1,checkSession:!0,module:e}}),n.push({path:e+"/edit/:record",component:Re.RecordComponent,canActivate:[Re.AuthGuard],runGuardsAndResolvers:"always",resolve:{view:Re.BaseModuleResolver,metadata:Re.BaseRecordResolver},data:{reuseRoute:!1,checkSession:!0,module:e,mode:"edit"}}),n.push({path:e+"/detail/:record",component:Re.RecordComponent,canActivate:[Re.AuthGuard],runGuardsAndResolvers:"always",resolve:{view:Re.BaseModuleResolver,metadata:Re.BaseRecordResolver},data:{reuseRoute:!1,checkSession:!0,module:e}}))}),n.push({path:":module",component:Re.ClassicViewUiComponent,canActivate:[Re.AuthGuard],runGuardsAndResolvers:"always",resolve:{legacyUrl:Re.ClassicViewResolver},data:{reuseRoute:!1,checkSession:!0}}),n.push({path:":module/:action",component:Re.ClassicViewUiComponent,canActivate:[Re.AuthGuard],runGuardsAndResolvers:"always",resolve:{legacyUrl:Re.ClassicViewResolver},data:{reuseRoute:!1,checkSession:!0}}),n.push({path:":module/:action/:record",component:Re.ClassicViewUiComponent,canActivate:[Re.AuthGuard],runGuardsAndResolvers:"always",resolve:{legacyUrl:Re.ClassicViewResolver},data:{reuseRoute:!1,checkSession:!0}}),n.push({path:"**",redirectTo:"Login"}),n.push({path:"",component:Re.ClassicViewUiComponent}),e.router.resetConfig(n),t()})})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p.\u0275\u0275inject(Ae.Router),p.\u0275\u0275inject(Re.SystemConfigStore),p.\u0275\u0275inject(p.Injector),p.\u0275\u0275inject(Re.ExtensionLoader))},e.\u0275prov=p.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),kr=c(92594),wr=c(6798),Sr=c(78186),Er=c(94005),Tr=c(34929),Or=c.n(Tr),Ar=c(71180),Cr=function(e){t(i,e);var n=r(i);function i(e,t){var r;return h(this,i),(r=n.call(this)).httpClient=e,r.options=t,r.print=Er.print,r.options.operationPrinter&&(r.print=r.options.operationPrinter),r.requester=function(e){return new Sr.y(function(t){var n=e.getContext(),i=function(e,t){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.find(function(e){return void 0!==e});return void 0===r?t[t.length-1]:r}(n[e],r.options[e],t)},o=i("includeQuery",!0),a=i("includeExtensions",!1),s=i("method","POST"),u=i("uri","graphql"),c=i("withCredentials"),l=i("useMultipart"),f={method:s,url:"function"==typeof u?u(e):u,body:{operationName:e.operationName,variables:e.variables},options:{withCredentials:c,useMultipart:l,headers:r.options.headers}};a&&(f.body.extensions=e.extensions),o&&(f.body.query=r.print(e.query));var h=function(e){var t=e.headers&&e.headers instanceof d.HttpHeaders?e.headers:new d.HttpHeaders(e.headers);if(e.clientAwareness){var n=e.clientAwareness,r=n.name,i=n.version;r&&!t.has("apollographql-client-name")&&(t=t.set("apollographql-client-name",r)),i&&!t.has("apollographql-client-version")&&(t=t.set("apollographql-client-version",i))}return t}(n);f.options.headers=function(e,t){return e&&t?t.keys().reduce(function(e,n){return e.set(n,t.getAll(n))},e):t||e}(f.options.headers,h);var p=function(e,t,n){var r,i=-1!==["POST","PUT","PATCH"].indexOf(e.method.toUpperCase()),o=e.body.length,a=e.options&&e.options.useMultipart;if(a){if(o)return new Ar.Observable(function(e){return e.error(new Error("File upload is not available when combined with Batching"))});if(!i)return new Ar.Observable(function(e){return e.error(new Error("File upload is not available when GET is used"))});a=!!(r=n(e.body)).files.size}var s={};if(o){if(!i)return new Ar.Observable(function(e){return e.error(new Error("Batching is not available for GET requests"))});s={body:e.body}}else{var u=a?r.clone:e.body;s=i?{body:u}:{params:Object.keys(e.body).reduce(function(t,n){var r=e.body[n];return t[n]=function(e){return-1!==["variables","extensions"].indexOf(e.toLowerCase())}(n)?JSON.stringify(r):r,t},{})}}if(a&&i){var c=new FormData;c.append("operations",JSON.stringify(s.body));var l={},f=r.files,h=0;f.forEach(function(e){l[++h]=e}),c.append("map",JSON.stringify(l)),h=0,f.forEach(function(e,t){c.append(++h+"",t,t.name)}),s.body=c}return t.request(e.method,e.url,Object.assign(Object.assign({observe:"response",responseType:"json",reportProgress:!1},s),e.options))}(f,r.httpClient,Or()).subscribe({next:function(n){e.setContext({response:n}),t.next(n.body)},error:function(e){return t.error(e)},complete:function(){return t.complete()}});return function(){p.closed||p.unsubscribe()}})},r}return f(i,[{key:"request",value:function(e){return this.requester(e)}}]),i}(wr.i),jr=function(){var e=function(){function e(t){h(this,e),this.httpClient=t}return f(e,[{key:"create",value:function(e){return new Cr(this.httpClient,e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p.\u0275\u0275inject(d.HttpClient))},e.\u0275prov=p.\u0275\u0275defineInjectable({factory:function(){return new e(p.\u0275\u0275inject(d.HttpClient))},token:e,providedIn:"root"}),e}(),Rr=function(e){return function(){return e.init()}},Nr=function(){var e=function e(t,n,r){var i=this;h(this,e),this.auth=r;var o=n.create({uri:"./api/graphql",withCredentials:!0}),a=(0,Oe.onError)(function(e){e.graphQLErrors&&e.graphQLErrors.length>0&&e.graphQLErrors.forEach(function(e){!0===i.auth.isUserLoggedIn.value&&e.message.includes("Access Denied")&&r.logout("LBL_SESSION_EXPIRED")})});t.create({defaultOptions:{watchQuery:{fetchPolicy:"no-cache"},query:{fetchPolicy:"no-cache"}},link:a.concat(o),cache:new Te})};return e.\u0275fac=function(t){return new(t||e)(p.\u0275\u0275inject(y.Apollo),p.\u0275\u0275inject(jr),p.\u0275\u0275inject(Re.AuthService))},e.\u0275mod=p.\u0275\u0275defineNgModule({type:e,bootstrap:[Ie]}),e.\u0275inj=p.\u0275\u0275defineInjector({providers:[{provide:d.HTTP_INTERCEPTORS,useClass:Re.ErrorInterceptor,multi:!0},{provide:Ae.RouteReuseStrategy,useClass:mr},gr.BnNgIdleService,br,{provide:p.APP_INITIALIZER,useFactory:Rr,multi:!0,deps:[br]}],imports:[[l.b2,d.HttpClientModule,je,Re.FooterUiModule,Re.NavbarUiModule,Re.MessageUiModule,Re.ClassicViewUiModule,Re.FilterUiModule,Re.ListModule,Re.RecordModule,Re.CreateRecordModule,Re.InstallViewModule,Re.TableModule,Re.ModuleTitleModule,Re.ListHeaderModule,Re.ListContainerModule,Re.ColumnChooserModule,kr.AngularSvgIconModule.forRoot(),Re.ImageModule,yr,vr.NgbModule,Re.FullPageSpinnerModule,Re.MessageModalModule,Re.RecordListModalModule]]}),e}();(0,p.enableProdMode)(),l.q6().bootstrapModule(Nr).catch(function(e){return console.error(e)})},54464:function(n,i,a){a.d(i,{b2:function(){return U},H7:function(){return B},q6:function(){return V},se:function(){return j}});var s,u,c=a(1090),l=a(14468),p=function(e){t(i,e);var n=r(i);function i(){return h(this,i),n.apply(this,arguments)}return f(i,[{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){e.parentNode&&e.parentNode.removeChild(e)}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getBaseHref",value:function(e){var t=(d=d||document.querySelector("base"))?d.getAttribute("href"):null;return null==t?null:function(e){(s=s||document.createElement("a")).setAttribute("href",e);var t=s.pathname;return"/"===t.charAt(0)?t:"/".concat(t)}(t)}},{key:"resetBaseElement",value:function(){d=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(e){return(0,c.\u0275parseCookieValue)(document.cookie,e)}}],[{key:"makeCurrent",value:function(){(0,c.\u0275setRootDomAdapter)(new i)}}]),i}(function(e){t(i,e);var n=r(i);function i(){var e;return h(this,i),(e=n.apply(this,arguments)).supportsDOMEvents=!0,e}return i}(c.\u0275DomAdapter)),d=null,y=new l.InjectionToken("TRANSITION_ID"),v=[{provide:l.APP_INITIALIZER,useFactory:function(e,t,n){return function(){n.get(l.ApplicationInitStatus).donePromise.then(function(){var n=(0,c.\u0275getDOM)();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(function(t){return t.getAttribute("ng-transition")===e}).forEach(function(e){return n.remove(e)})})}},deps:[y,c.DOCUMENT,l.Injector],multi:!0}],m=function(){function e(){h(this,e)}return f(e,[{key:"addToWindow",value:function(e){l.\u0275global.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},l.\u0275global.getAllAngularTestabilities=function(){return e.getAllTestabilities()},l.\u0275global.getAllAngularRootElements=function(){return e.getAllRootElements()},l.\u0275global.frameworkStabilizers||(l.\u0275global.frameworkStabilizers=[]),l.\u0275global.frameworkStabilizers.push(function(e){var t=l.\u0275global.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach(function(e){e.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?(0,c.\u0275getDOM)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){(0,l.setTestabilityGetter)(new e)}}]),e}(),g=((u=function(){function e(){h(this,e)}return f(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}()).\u0275fac=function(e){return new(e||u)},u.\u0275prov=l.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac}),u),_=new l.InjectionToken("EventManagerPlugins"),b=function(){var e=function(){function e(t,n){var r=this;h(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach(function(e){return e.manager=r}),this._plugins=t.slice().reverse()}return f(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.\u0275\u0275inject(_),l.\u0275\u0275inject(l.NgZone))},e.\u0275prov=l.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),k=function(){function e(t){h(this,e),this._doc=t}return f(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=(0,c.\u0275getDOM)().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),w=function(){var e=function(){function e(){h(this,e),this._stylesSet=new Set}return f(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),S=function(){var e=function(e){t(i,e);var n=r(i);function i(e){var t;return h(this,i),(t=n.call(this))._doc=e,t._hostNodes=new Map,t._hostNodes.set(e.head,[]),t}return f(i,[{key:"_addStylesToHost",value:function(e,t,n){var r=this;e.forEach(function(e){var i=r._doc.createElement("style");i.textContent=e,n.push(t.appendChild(i))})}},{key:"addHost",value:function(e){var t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}},{key:"removeHost",value:function(e){var t=this._hostNodes.get(e);t&&t.forEach(E),this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach(function(n,r){t._addStylesToHost(e,r,n)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(e){return e.forEach(E)})}}]),i}(w);return e.\u0275fac=function(t){return new(t||e)(l.\u0275\u0275inject(c.DOCUMENT))},e.\u0275prov=l.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}();function E(e){(0,c.\u0275getDOM)().remove(e)}var T={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},O=/%COMP%/g;function A(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?A(e,i,n):(i=i.replace(O,e),n.push(i))}return n}function C(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var j=function(){var e=function(){function e(t,n,r){h(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new R(t)}return f(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case l.ViewEncapsulation.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new N(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case 1:case l.ViewEncapsulation.ShadowDom:return new D(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=A(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.\u0275\u0275inject(b),l.\u0275\u0275inject(S),l.\u0275\u0275inject(l.APP_ID))},e.\u0275prov=l.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),R=function(){function e(t){h(this,e),this.eventManager=t,this.data=Object.create(null)}return f(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(T[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=T[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=T[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&(l.RendererStyleFlags2.DashCase|l.RendererStyleFlags2.Important)?e.style.setProperty(t,n,r&l.RendererStyleFlags2.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&l.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,C(n)):this.eventManager.addEventListener(e,t,C(n))}}]),e}(),N=function(n){t(a,n);var i=r(a);function a(e,t,n,r){var o;h(this,a),(o=i.call(this,e)).component=n;var s=A(r+"-"+n.id,n.styles,[]);return t.addStyles(s),o.contentAttr="_ngcontent-%COMP%".replace(O,r+"-"+n.id),o.hostAttr="_nghost-%COMP%".replace(O,r+"-"+n.id),o}return f(a,[{key:"applyToHost",value:function(t){e(o(a.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,n){var r=e(o(a.prototype),"createElement",this).call(this,t,n);return e(o(a.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),a}(R),D=function(n){t(a,n);var i=r(a);function a(e,t,n,r){var o;h(this,a),(o=i.call(this,e)).sharedStylesHost=t,o.hostEl=n,o.shadowRoot=n.attachShadow({mode:"open"}),o.sharedStylesHost.addHost(o.shadowRoot);for(var s=A(r.id,r.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],o.shadowRoot.appendChild(c)}return o}return f(a,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,n){return e(o(a.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),n)}},{key:"insertBefore",value:function(t,n,r){return e(o(a.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),n,r)}},{key:"removeChild",value:function(t,n){return e(o(a.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),n)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(e(o(a.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),a}(R),P=function(){var e=function(e){t(i,e);var n=r(i);function i(e){return h(this,i),n.call(this,e)}return f(i,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),i}(k);return e.\u0275fac=function(t){return new(t||e)(l.\u0275\u0275inject(c.DOCUMENT))},e.\u0275prov=l.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),F=["alt","control","meta","shift"],x={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},I={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},M={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},L=function(){var e=function(e){t(i,e);var n=r(i);function i(e){return h(this,i),n.call(this,e)}return f(i,[{key:"supports",value:function(e){return null!=i.parseEventName(e)}},{key:"addEventListener",value:function(e,t,n){var r=i.parseEventName(t),o=i.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return(0,c.\u0275getDOM)().onAndCancel(e,r.domEventName,o)})}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||"keydown"!==n&&"keyup"!==n)return null;var r=i._normalizeKey(t.pop()),o="";if(F.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")}),o+=r,0!=t.length||0===r.length)return null;var a={};return a.domEventName=n,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&I.hasOwnProperty(t)&&(t=I[t]))}return x[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),F.forEach(function(r){r!=n&&M[r](e)&&(t+=r+".")}),t+=n}},{key:"eventCallback",value:function(e,t,n){return function(r){i.getEventFullKey(r)===e&&n.runGuarded(function(){return t(r)})}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),i}(k);return e.\u0275fac=function(t){return new(t||e)(l.\u0275\u0275inject(c.DOCUMENT))},e.\u0275prov=l.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),B=function(){var e=function e(){h(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,l.\u0275\u0275defineInjectable)({factory:function(){return(0,l.\u0275\u0275inject)(q)},token:e,providedIn:"root"}),e}(),q=function(){var e=function(e){t(i,e);var n=r(i);function i(e){var t;return h(this,i),(t=n.call(this))._doc=e,t}return f(i,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case l.SecurityContext.NONE:return t;case l.SecurityContext.HTML:return(0,l.\u0275allowSanitizationBypassAndThrow)(t,"HTML")?(0,l.\u0275unwrapSafeValue)(t):(0,l.\u0275_sanitizeHtml)(this._doc,String(t)).toString();case l.SecurityContext.STYLE:return(0,l.\u0275allowSanitizationBypassAndThrow)(t,"Style")?(0,l.\u0275unwrapSafeValue)(t):t;case l.SecurityContext.SCRIPT:if((0,l.\u0275allowSanitizationBypassAndThrow)(t,"Script"))return(0,l.\u0275unwrapSafeValue)(t);throw new Error("unsafe value used in a script context");case l.SecurityContext.URL:return(0,l.\u0275getSanitizationBypassType)(t),(0,l.\u0275allowSanitizationBypassAndThrow)(t,"URL")?(0,l.\u0275unwrapSafeValue)(t):(0,l.\u0275_sanitizeUrl)(String(t));case l.SecurityContext.RESOURCE_URL:if((0,l.\u0275allowSanitizationBypassAndThrow)(t,"ResourceURL"))return(0,l.\u0275unwrapSafeValue)(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see https://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(e){return(0,l.\u0275bypassSanitizationTrustHtml)(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return(0,l.\u0275bypassSanitizationTrustStyle)(e)}},{key:"bypassSecurityTrustScript",value:function(e){return(0,l.\u0275bypassSanitizationTrustScript)(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return(0,l.\u0275bypassSanitizationTrustUrl)(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return(0,l.\u0275bypassSanitizationTrustResourceUrl)(e)}}]),i}(B);return e.\u0275fac=function(t){return new(t||e)(l.\u0275\u0275inject(c.DOCUMENT))},e.\u0275prov=(0,l.\u0275\u0275defineInjectable)({factory:function(){return function(e){return new q(e.get(c.DOCUMENT))}((0,l.\u0275\u0275inject)(l.INJECTOR))},token:e,providedIn:"root"}),e}(),V=(0,l.createPlatformFactory)(l.platformCore,"browser",[{provide:l.PLATFORM_ID,useValue:c.\u0275PLATFORM_BROWSER_ID},{provide:l.PLATFORM_INITIALIZER,useValue:function(){p.makeCurrent(),m.init()},multi:!0},{provide:c.DOCUMENT,useFactory:function(){return(0,l.\u0275setDocument)(document),document},deps:[]}]),z=[[],{provide:l.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:l.ErrorHandler,useFactory:function(){return new l.ErrorHandler},deps:[]},{provide:_,useClass:P,multi:!0,deps:[c.DOCUMENT,l.NgZone,l.PLATFORM_ID]},{provide:_,useClass:L,multi:!0,deps:[c.DOCUMENT]},[],{provide:j,useClass:j,deps:[b,S,l.APP_ID]},{provide:l.RendererFactory2,useExisting:j},{provide:w,useExisting:S},{provide:S,useClass:S,deps:[c.DOCUMENT]},{provide:l.Testability,useClass:l.Testability,deps:[l.NgZone]},{provide:b,useClass:b,deps:[_,l.NgZone]},{provide:c.XhrFactory,useClass:g,deps:[]},[]],U=function(){var e=function(){function e(t){if(h(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return f(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:l.APP_ID,useValue:t.appId},{provide:y,useExisting:l.APP_ID},v]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.\u0275\u0275inject(e,12))},e.\u0275mod=l.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=l.\u0275\u0275defineInjector({providers:z,imports:[c.CommonModule,l.ApplicationModule]}),e}();"undefined"!=typeof window&&window},53483:function(e,t,n){n.d(t,{h:function(){return c},B:function(){return l}});var r,i,o=n(61855),a=(n(16290),n(53313)),s=n(67202),u=n(49245),c=function(){function e(){this.known=new(u.s?WeakSet:Set),this.pool=new a.B(u.m),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(e){return(0,s.s)(e)&&this.known.has(e)},e.prototype.pass=function(e){if((0,s.s)(e)){var t=function(e){return(0,s.s)(e)?Array.isArray(e)?e.slice(0):(0,o.pi)({__proto__:Object.getPrototypeOf(e)},e):e}(e);return this.passes.set(t,e),t}return e},e.prototype.admit=function(e){var t=this;if((0,s.s)(e)){var n=this.passes.get(e);if(n)return n;switch(Object.getPrototypeOf(e)){case Array.prototype:if(this.known.has(e))return e;var r=e.map(this.admit,this);return(u=this.pool.lookupArray(r)).array||(this.known.add(u.array=r),__DEV__&&Object.freeze(r)),u.array;case null:case Object.prototype:if(this.known.has(e))return e;var i=Object.getPrototypeOf(e),o=[i],a=this.sortedKeys(e);o.push(a.json);var u,c=o.length;if(a.sorted.forEach(function(n){o.push(t.admit(e[n]))}),!(u=this.pool.lookupArray(o)).object){var l=u.object=Object.create(i);this.known.add(l),a.sorted.forEach(function(e,t){l[e]=o[c+t]}),__DEV__&&Object.freeze(l)}return u.object}}return e},e.prototype.sortedKeys=function(e){var t=Object.keys(e),n=this.pool.lookupArray(t);if(!n.keys){t.sort();var r=JSON.stringify(t);(n.keys=this.keysByJSON.get(r))||this.keysByJSON.set(r,n.keys={sorted:t,json:r})}return n.keys},e}(),l=Object.assign(function(e){if((0,s.s)(e)){void 0===r&&f();var t=r.admit(e),n=i.get(t);return void 0===n&&i.set(t,n=JSON.stringify(t)),n}return JSON.stringify(e)},{reset:f});function f(){r=new c,i=new(u.m?WeakMap:Map)}},85101:function(e,t,n){n.d(t,{ab:function(){return i},li:function(){return s},_v:function(){return u},QS:function(){return c}});var r=n(26180),i=new(n(73716).g7),o=new WeakMap;function a(e){var t=o.get(e);return t||o.set(e,t={vars:new Set,dep:(0,r.dP)()}),t}function s(e){a(e).vars.forEach(function(t){return t.forgetCache(e)})}function u(e){a(e).vars.forEach(function(t){return t.attachCache(e)})}function c(e){var t=new Set,n=new Set,r=function r(s){if(arguments.length>0){if(e!==s){e=s,t.forEach(function(e){a(e).dep.dirty(r),l(e)});var u=Array.from(n);n.clear(),u.forEach(function(t){return t(e)})}}else{var c=i.getValue();c&&(o(c),a(c).dep(r))}return e};r.onNextChange=function(e){return n.add(e),function(){n.delete(e)}};var o=r.attachCache=function(e){return t.add(e),a(e).vars.add(r),r};return r.forgetCache=function(e){return t.delete(e)},r}function l(e){e.broadcastWatches&&e.broadcastWatches()}},6798:function(e,t,n){n.d(t,{i:function(){return f}});var r=n(61855),i=n(16290),o=n(78186),a=n(93850);function s(e,t){return t?t(e):o.y.of()}function u(e){return"function"==typeof e?new f(e):e}function c(e){return e.request.length<=1}var l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}return(0,r.ZT)(t,e),t}(Error),f=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e(function(){return o.y.of()})},e.from=function(t){return 0===t.length?e.empty():t.map(u).reduce(function(e,t){return e.concat(t)})},e.split=function(t,n,r){var i=u(n),a=u(r||new e(s));return c(i)&&c(a)?new e(function(e){return t(e)?i.request(e)||o.y.of():a.request(e)||o.y.of()}):new e(function(e,n){return t(e)?i.request(e,n)||o.y.of():a.request(e,n)||o.y.of()})},e.execute=function(e,t){return e.request(function(e,t){var n=(0,r.pi)({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n=(0,r.pi)((0,r.pi)({},n),"function"==typeof e?e(n):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return(0,r.pi)({},n)}}),t}(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?(0,a.rY)(t.query)||void 0:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];if(t.indexOf(o)<0)throw __DEV__?new i.ej("illegal argument: "+o):new i.ej(26)}return e}(t))))||o.y.of()},e.concat=function(t,n){var r=u(t);if(c(r))return __DEV__&&i.kG.warn(new l("You are calling concat on a terminating link, which will have no effect",r)),r;var a=u(n);return c(a)?new e(function(e){return r.request(e,function(e){return a.request(e)||o.y.of()})||o.y.of()}):new e(function(e,t){return r.request(e,function(e){return a.request(e,t)||o.y.of()})||o.y.of()})},e.prototype.split=function(t,n,r){return this.concat(e.split(t,n,r||new e(s)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw __DEV__?new i.ej("request is not implemented"):new i.ej(21)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}()},49245:function(e,t,n){n.d(t,{m:function(){return r},s:function(){return i}});var r="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product),i="function"==typeof WeakSet},90751:function(e,t,n){n.d(t,{X:function(){return i}});var r=Object.prototype.toString;function i(e){return o(e)}function o(e,t){switch(r.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var n=e.slice(0);return t.set(e,n),n.forEach(function(e,r){n[r]=o(e,t)}),n;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var i=Object.create(Object.getPrototypeOf(e));return t.set(e,i),Object.keys(e).forEach(function(n){i[n]=o(e[n],t)}),i;default:return e}}},63098:function(e,t,n){n.d(t,{X:function(){return i}});var r=new Map;function i(e){var t=r.get(e)||1;return r.set(e,t+1),e+":"+t+":"+Math.random().toString(36).slice(2)}},36689:function(e,t,n){n.d(t,{Ee:function(){return a},bw:function(){return s},w0:function(){return c}});var r=n(61855),i=n(67202),o=Object.prototype.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s(e)}function s(e){var t=e[0]||{},n=e.length;if(n>1)for(var r=new c,i=1;i<n;++i)t=r.merge(t,e[i]);return t}var u=function(e,t,n){return this.merge(e[n],t[n])},c=function(){function e(e){void 0===e&&(e=u),this.reconciler=e,this.isObject=i.s,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var n=this,a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];return(0,i.s)(t)&&(0,i.s)(e)?(Object.keys(t).forEach(function(i){if(o.call(e,i)){var s=e[i];if(t[i]!==s){var u=n.reconciler.apply(n,(0,r.ev)([e,t,i],a,!1));u!==s&&((e=n.shallowCopyForMerge(e))[i]=u)}}else(e=n.shallowCopyForMerge(e))[i]=t[i]}),e):t},e.prototype.shallowCopyForMerge=function(e){return(0,i.s)(e)&&!this.pastCopies.has(e)&&(e=Array.isArray(e)?e.slice(0):(0,r.pi)({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e)),e},e}()},67202:function(e,t,n){function r(e){return null!==e&&"object"==typeof e}n.d(t,{s:function(){return r}})},16290:function(e,t,n){n.d(t,{ej:function(){return s},kG:function(){return u},wY:function(){return p}});var r=n(61855),i="Invariant Violation",o=Object.setPrototypeOf,a=void 0===o?function(e,t){return e.__proto__=t,e}:o,s=function(e){function t(n){void 0===n&&(n=i);var r=e.call(this,"number"==typeof n?i+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=i,a(r,t.prototype),r}return(0,r.ZT)(t,e),t}(Error);function u(e,t){if(!e)throw new s(t)}var c,l=["debug","log","warn","error","silent"],f=l.indexOf("log");function h(e){return function(){if(l.indexOf(e)>=f){var t=console[e]||console.log;return t.apply(console,arguments)}}}function p(e){try{return e()}catch(t){}}(c=u||(u={})).debug=h("debug"),c.log=h("log"),c.warn=h("warn"),c.error=h("error");var d=p(function(){return globalThis})||p(function(){return window})||p(function(){return self})||p(function(){return global})||p(function(){return Function("return this")()}),y="__",v=[y,y].join("DEV"),m=function(){try{return Boolean(__DEV__)}catch(c){return Object.defineProperty(d,v,{value:"production"!==p(function(){return"production"}),enumerable:!1,configurable:!0,writable:!0}),d[v]}}();function g(e){try{return e()}catch(t){}}var _=g(function(){return globalThis})||g(function(){return window})||g(function(){return self})||g(function(){return global})||g(function(){return Function("return this")()}),b=!1;_&&!g(function(){return"production"})&&!g(function(){return process})&&(Object.defineProperty(_,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),b=!0),(0,n(94005).isType)(null),b&&(delete _.process,b=!1),__DEV__?u("boolean"==typeof m,m):u("boolean"==typeof m,38)},78704:function(e,t,n){n.d(t,{LZ:function(){return o},FS:function(){return a},mj:function(){return s}});var r=n(16290),i=n(94005);function o(e,t){var n=e.directives;return!n||!n.length||function(e){var t=[];return e&&e.length&&e.forEach(function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var n=e.arguments,i=e.name.value;__DEV__?(0,r.kG)(n&&1===n.length,"Incorrect number of arguments for the @"+i+" directive."):(0,r.kG)(n&&1===n.length,40);var o=n[0];__DEV__?(0,r.kG)(o.name&&"if"===o.name.value,"Invalid argument for the @"+i+" directive."):(0,r.kG)(o.name&&"if"===o.name.value,41);var a=o.value;__DEV__?(0,r.kG)(a&&("Variable"===a.kind||"BooleanValue"===a.kind),"Argument for the @"+i+" directive must be a variable or a boolean value."):(0,r.kG)(a&&("Variable"===a.kind||"BooleanValue"===a.kind),42),t.push({directive:e,ifArgument:o})}}),t}(n).every(function(e){var n=e.directive,i=e.ifArgument,o=!1;return"Variable"===i.value.kind?(o=t&&t[i.value.name.value],__DEV__?(0,r.kG)(void 0!==o,"Invalid variable referenced in @"+n.name.value+" directive."):(0,r.kG)(void 0!==o,39)):o=i.value.value,"skip"===n.name.value?!o:o})}function a(e,t){return function(e){var t=[];return(0,i.visit)(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some(function(t){return e.indexOf(t)>-1})}function s(e){return e&&a(["client"],e)&&a(["export"],e)}},8473:function(e,t,n){n.d(t,{Yk:function(){return o},F:function(){return a},hi:function(){return s}});var r=n(61855),i=n(16290);function o(e,t){var n=t,o=[];return e.definitions.forEach(function(e){if("OperationDefinition"===e.kind)throw __DEV__?new i.ej("Found a "+e.operation+" operation"+(e.name?" named '"+e.name.value+"'":"")+". No operations are allowed when using a fragment as a query. Only fragments are allowed."):new i.ej(43);"FragmentDefinition"===e.kind&&o.push(e)}),void 0===n&&(__DEV__?(0,i.kG)(1===o.length,"Found "+o.length+" fragments. `fragmentName` must be provided when there is not exactly 1 fragment."):(0,i.kG)(1===o.length,44),n=o[0].name.value),(0,r.pi)((0,r.pi)({},e),{definitions:(0,r.ev)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions,!0)})}function a(e){void 0===e&&(e=[]);var t={};return e.forEach(function(e){t[e.name.value]=e}),t}function s(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var n=t&&t[e.name.value];return __DEV__?(0,i.kG)(n,"No fragment named "+e.name.value+"."):(0,i.kG)(n,45),n;default:return null}}},93850:function(e,t,n){n.d(t,{A$:function(){return o},$H:function(){return a},rY:function(){return s},kU:function(){return u},iW:function(){return c},pD:function(){return l},p$:function(){return f},O4:function(){return h}});var r=n(16290),i=n(50210);function o(e){__DEV__?(0,r.kG)(e&&"Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):(0,r.kG)(e&&"Document"===e.kind,46);var t=e.definitions.filter(function(e){return"FragmentDefinition"!==e.kind}).map(function(e){if("OperationDefinition"!==e.kind)throw __DEV__?new r.ej('Schema type definitions not allowed in queries. Found: "'+e.kind+'"'):new r.ej(47);return e});return __DEV__?(0,r.kG)(t.length<=1,"Ambiguous GraphQL document: contains "+t.length+" operations"):(0,r.kG)(t.length<=1,48),e}function a(e){return o(e),e.definitions.filter(function(e){return"OperationDefinition"===e.kind})[0]}function s(e){return e.definitions.filter(function(e){return"OperationDefinition"===e.kind&&e.name}).map(function(e){return e.name.value})[0]||null}function u(e){return e.definitions.filter(function(e){return"FragmentDefinition"===e.kind})}function c(e){var t=a(e);return __DEV__?(0,r.kG)(t&&"query"===t.operation,"Must contain a query definition."):(0,r.kG)(t&&"query"===t.operation,49),t}function l(e){__DEV__?(0,r.kG)("Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):(0,r.kG)("Document"===e.kind,50),__DEV__?(0,r.kG)(e.definitions.length<=1,"Fragment must have exactly one definition."):(0,r.kG)(e.definitions.length<=1,51);var t=e.definitions[0];return __DEV__?(0,r.kG)("FragmentDefinition"===t.kind,"Must be a fragment definition."):(0,r.kG)("FragmentDefinition"===t.kind,52),t}function f(e){o(e);for(var t,n=0,i=e.definitions;n<i.length;n++){var a=i[n];if("OperationDefinition"===a.kind){var s=a.operation;if("query"===s||"mutation"===s||"subscription"===s)return a}"FragmentDefinition"===a.kind&&!t&&(t=a)}if(t)return t;throw __DEV__?new r.ej("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new r.ej(53)}function h(e){var t=Object.create(null),n=e&&e.variableDefinitions;return n&&n.length&&n.forEach(function(e){e.defaultValue&&(0,i.vb)(t,e.variable.name,e.defaultValue)}),t}},50210:function(e,t,n){n.d(t,{kQ:function(){return a},Yk:function(){return s},JW:function(){return u},vb:function(){return c},vf:function(){return l},PT:function(){return h},NC:function(){return y},u2:function(){return v},qw:function(){return m},My:function(){return g},Ao:function(){return _}});var r=n(16290),i=n(67202),o=n(8473);function a(e){return{__ref:String(e)}}function s(e){return Boolean(e&&"object"==typeof e&&"string"==typeof e.__ref)}function u(e){return(0,i.s)(e)&&"Document"===e.kind&&Array.isArray(e.definitions)}function c(e,t,n,i){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var o={};n.fields.map(function(e){return c(o,e.name,e.value,i)}),e[t.value]=o}else if(function(e){return"Variable"===e.kind}(n))e[t.value]=(i||{})[n.name.value];else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map(function(e){var n={};return c(n,t,e,i),n[t.value]});else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw __DEV__?new r.ej('The inline argument "'+t.value+'" of kind "'+n.kind+'"is not supported. Use variables instead of inline arguments to overcome this limitation.'):new r.ej(54);e[t.value]=null}}function l(e,t){var n=null;e.directives&&(n={},e.directives.forEach(function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach(function(r){return c(n[e.name.value],r.name,r.value,t)})}));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach(function(e){return c(r,e.name,e.value,t)})),h(e.name.value,r,n)}var f=["connection","include","skip","client","rest","export"],h=Object.assign(function(e,t,n){if(t&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i={};return r.forEach(function(e){i[e]=t[e]}),n.connection.key+"("+p(i)+")"}return n.connection.key}var o=e;if(t){var a=p(t);o+="("+a+")"}return n&&Object.keys(n).forEach(function(e){-1===f.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?o+="@"+e+"("+p(n[e])+")":o+="@"+e)}),o},{setStringify:function(e){var t=p;return p=e,t}}),p=function(e){return JSON.stringify(e,d)};function d(e,t){return(0,i.s)(t)&&!Array.isArray(t)&&(t=Object.keys(t).sort().reduce(function(e,n){return e[n]=t[n],e},{})),t}function y(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach(function(e){return c(n,e.name,e.value,t)}),n}return null}function v(e){return e.alias?e.alias.value:e.name.value}function m(e,t,n){if("string"==typeof e.__typename)return e.__typename;for(var r=0,i=t.selections;r<i.length;r++){var a=i[r];if(g(a)){if("__typename"===a.name.value)return e[v(a)]}else{var s=m(e,(0,o.hi)(a,n).selectionSet,n);if("string"==typeof s)return s}}}function g(e){return"Field"===e.kind}function _(e){return"InlineFragment"===e.kind}},92035:function(e,t,n){n.d(t,{Gw:function(){return y},aL:function(){return _},ob:function(){return b},Fo:function(){return m}});var r=n(61855),i=n(16290),o=n(94005),a=n(93850);function s(e,t,n){var r=0;return e.forEach(function(n,i){t.call(this,n,i,e)&&(e[r++]=n)},n),e.length=r,e}var u=n(50210),c=n(8473),l={kind:"Field",name:{kind:"Name",value:"__typename"}};function f(e,t){return e.selectionSet.selections.every(function(e){return"FragmentSpread"===e.kind&&f(t[e.name.value],t)})}function h(e){return f((0,a.$H)(e)||(0,a.pD)(e),(0,c.F)((0,a.kU)(e)))?null:e}function p(e){return function(t){return e.some(function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)})}}function d(e,t){var n=Object.create(null),i=[],a=Object.create(null),u=[],c=h((0,o.visit)(t,{Variable:{enter:function(e,t,r){"VariableDefinition"!==r.kind&&(n[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&e.some(function(e){return e.remove})&&t.directives&&t.directives.some(p(e)))return t.arguments&&t.arguments.forEach(function(e){"Variable"===e.value.kind&&i.push({name:e.value.name.value})}),t.selectionSet&&g(t.selectionSet).forEach(function(e){u.push({name:e.name.value})}),null}},FragmentSpread:{enter:function(e){a[e.name.value]=!0}},Directive:{enter:function(t){if(p(e)(t))return null}}}));return c&&s(i,function(e){return!!e.name&&!n[e.name]}).length&&(c=function(e,t){var n=function(e){return function(t){return e.some(function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))})}}(e);return h((0,o.visit)(t,{OperationDefinition:{enter:function(t){return(0,r.pi)((0,r.pi)({},t),{variableDefinitions:t.variableDefinitions?t.variableDefinitions.filter(function(t){return!e.some(function(e){return e.name===t.variable.name.value})}):[]})}},Field:{enter:function(t){if(e.some(function(e){return e.remove})){var r=0;if(t.arguments&&t.arguments.forEach(function(e){n(e)&&(r+=1)}),1===r)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(i,c)),c&&s(u,function(e){return!!e.name&&!a[e.name]}).length&&(c=function(e,t){function n(t){if(e.some(function(e){return e.name===t.name.value}))return null}return h((0,o.visit)(t,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(u,c)),c}var y=Object.assign(function(e){return(0,o.visit)((0,a.A$)(e),{SelectionSet:{enter:function(e,t,n){if(!n||"OperationDefinition"!==n.kind){var i=e.selections;if(i&&!i.some(function(e){return(0,u.My)(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))})){var o=n;if(!((0,u.My)(o)&&o.directives&&o.directives.some(function(e){return"export"===e.name.value})))return(0,r.pi)((0,r.pi)({},e),{selections:(0,r.ev)((0,r.ev)([],i,!0),[l],!1)})}}}}})},{added:function(e){return e===l}}),v={test:function(e){var t="connection"===e.name.value;return t&&(!e.arguments||!e.arguments.some(function(e){return"key"===e.name.value}))&&__DEV__&&i.kG.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),t}};function m(e){return d([v],(0,a.A$)(e))}function g(e){var t=[];return e.selections.forEach(function(e){((0,u.My)(e)||(0,u.Ao)(e))&&e.selectionSet?g(e.selectionSet).forEach(function(e){return t.push(e)}):"FragmentSpread"===e.kind&&t.push(e)}),t}function _(e){return"query"===(0,a.p$)(e).operation?e:(0,o.visit)(e,{OperationDefinition:{enter:function(e){return(0,r.pi)((0,r.pi)({},e),{operation:"query"})}}})}function b(e){(0,a.A$)(e);var t=d([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=(0,o.visit)(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every(function(e){return(0,u.My)(e)&&"__typename"===e.name.value}))return null}}})),t}},73716:function(e,t,n){n.d(t,{g7:function(){return u}});var r=null,i={},o=1,a="@wry/context:Slot",s=Array,u=s[a]||function(){var e=function(){function e(){this.id=["slot",o++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=r;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===i)break;return e!==r&&(r.slots[this.id]=t),!0}return r&&(r.slots[this.id]=i),!1},e.prototype.getValue=function(){if(this.hasValue())return r.slots[this.id]},e.prototype.withValue=function(e,t,n,i){var o,a=((o={__proto__:null})[this.id]=e,o),s=r;r={parent:s,slots:a};try{return t.apply(i,n)}finally{r=s}},e.bind=function(e){var t=r;return function(){var n=r;try{return r=t,e.apply(this,arguments)}finally{r=n}}},e.noContext=function(e,t,n){if(!r)return e.apply(n,t);var i=r;try{return r=null,e.apply(n,t)}finally{r=i}},e}();try{Object.defineProperty(s,a,{value:s[a]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}()},16403:function(e,t,n){n.d(t,{D:function(){return u}});var r=Object.prototype,i=r.toString,o=r.hasOwnProperty,a=Function.prototype.toString,s=new Map;function u(e,t){try{return c(e,t)}finally{s.clear()}}function c(e,t){if(e===t)return!0;var n=i.call(e);if(n!==i.call(t))return!1;switch(n){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":if(p(e,t))return!0;var r=l(e),s=l(t),u=r.length;if(u!==s.length)return!1;for(var f=0;f<u;++f)if(!o.call(t,r[f]))return!1;for(f=0;f<u;++f){var d=r[f];if(!c(e[d],t[d]))return!1}return!0;case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!=e)return t!=t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==""+t;case"[object Map]":case"[object Set]":if(e.size!==t.size)return!1;if(p(e,t))return!0;for(var y=e.entries(),v="[object Map]"===n;;){var m=y.next();if(m.done)break;var g=m.value,_=g[0],b=g[1];if(!t.has(_)||v&&!c(b,t.get(_)))return!1}return!0;case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":var k=e.byteLength;if(k===t.byteLength)for(;k--&&e[k]===t[k];);return-1===k;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var w=a.call(e);return w===a.call(t)&&!function(e,t){var n=e.length-t.length;return n>=0&&e.indexOf(t,n)===n}(w,h)}return!1}function l(e){return Object.keys(e).filter(f,e)}function f(e){return void 0!==this[e]}var h="{ [native code] }";function p(e,t){var n=s.get(e);if(n){if(n.has(t))return!0}else s.set(e,n=new Set);return n.add(t),!1}},53313:function(e,t,n){n.d(t,{B:function(){return s}});var r=function(){return Object.create(null)},i=Array.prototype,o=i.forEach,a=i.slice,s=function(){function e(e,t){void 0===e&&(e=!0),void 0===t&&(t=r),this.weakness=e,this.makeData=t}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return o.call(e,function(e){return t=t.getChildTrie(e)}),t.data||(t.data=this.makeData(a.call(e)))},e.prototype.getChildTrie=function(t){var n=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(t);return r||n.set(t,r=new e(this.weakness,this.makeData)),r},e}()},42791:function(e){e.exports=function(e){var t=e.name,n=e.type;this.uri=e.uri,this.name=t,this.type=n}},34929:function(e,t,n){var r=n(76271);e.exports=function e(t,n,i){void 0===n&&(n=""),void 0===i&&(i=r);var o,a=new Map;function s(e,t){var n=a.get(t);n?n.push.apply(n,e):a.set(t,e)}if(i(t))o=null,s([n],t);else{var u=n?n+".":"";if("undefined"!=typeof FileList&&t instanceof FileList)o=Array.prototype.map.call(t,function(e,t){return s([""+u+t],e),null});else if(Array.isArray(t))o=t.map(function(t,n){var r=e(t,""+u+n,i);return r.files.forEach(s),r.clone});else if(t&&t.constructor===Object)for(var c in o={},t){var l=e(t[c],""+u+c,i);l.files.forEach(s),o[c]=l.clone}else o=t}return{clone:o,files:a}}},76271:function(e,t,n){var r=n(42791);e.exports=function(e){return"undefined"!=typeof File&&e instanceof File||"undefined"!=typeof Blob&&e instanceof Blob||e instanceof r}},26180:function(e,t,n){n.d(t,{dP:function(){return C},re:function(){return N}});var r=n(53313),i=n(73716);function o(){}var a,s=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=o),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getNode(e);return t&&t.value},e.prototype.getNode=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,r=t.newer;r&&(r.older=n),n&&(n.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},e.prototype.set=function(e,t){var n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),u=new i.g7,c=Object.prototype.hasOwnProperty,l=void 0===(a=Array.from)?function(e){var t=[];return e.forEach(function(e){return t.push(e)}),t}:a;function f(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=void 0,t())}var h=[];function p(e,t){if(!e)throw new Error(t||"assertion failure")}function d(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var y=function(){function e(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.peek=function(){if(1===this.value.length&&!g(this))return v(this),this.value[0]},e.prototype.recompute=function(e){return p(!this.recomputing,"already recomputing"),v(this),g(this)?function(e,t){return T(e),u.withValue(e,m,[e,t]),function(e,t){if("function"==typeof e.subscribe)try{f(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(n){return e.setDirty(),!1}return!0}(e,t)&&function(e){e.dirty=!1,!g(e)&&b(e)}(e),d(e.value)}(this,e):d(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,_(this),f(this))},e.prototype.dispose=function(){var e=this;this.setDirty(),T(this),k(this,function(t,n){t.setDirty(),O(t,e)})},e.prototype.forget=function(){this.dispose()},e.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=h.pop()||new Set),this.deps.add(e)},e.prototype.forgetDeps=function(){var e=this;this.deps&&(l(this.deps).forEach(function(t){return t.delete(e)}),this.deps.clear(),h.push(this.deps),this.deps=null)},e.count=0,e}();function v(e){var t=u.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),g(e)?w(t,e):S(t,e),t}function m(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(n){e.value[1]=n}e.recomputing=!1}function g(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function _(e){k(e,w)}function b(e){k(e,S)}function k(e,t){var n=e.parents.size;if(n)for(var r=l(e.parents),i=0;i<n;++i)t(r[i],e)}function w(e,t){p(e.childValues.has(t)),p(g(t));var n=!g(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=h.pop()||new Set;e.dirtyChildren.add(t),n&&_(e)}function S(e,t){p(e.childValues.has(t)),p(!g(t));var n=e.childValues.get(t);0===n.length?e.childValues.set(t,function(e){return e.slice(0)}(t.value)):function(e,t){var n=e.length;return n>0&&n===t.length&&e[n-1]===t[n-1]}(n,t.value)||e.setDirty(),E(e,t),!g(e)&&b(e)}function E(e,t){var n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(h.length<100&&h.push(n),e.dirtyChildren=null))}function T(e){e.childValues.size>0&&e.childValues.forEach(function(t,n){O(e,n)}),e.forgetDeps(),p(null===e.dirtyChildren)}function O(e,t){t.parents.delete(e),e.childValues.delete(t),E(e,t)}var A={setDirty:!0,dispose:!0,forget:!0};function C(e){var t=new Map,n=e&&e.subscribe;function r(e){var r=u.getValue();if(r){var i=t.get(e);i||t.set(e,i=new Set),r.dependOn(i),"function"==typeof n&&(f(i),i.unsubscribe=n(e))}}return r.dirty=function(e,n){var r=t.get(e);if(r){var i=n&&c.call(A,n)?n:"setDirty";l(r).forEach(function(e){return e[i]()}),t.delete(e),f(r)}},r}function j(){var e=new r.B("function"==typeof WeakMap);return function(){return e.lookupArray(arguments)}}j();var R=new Set;function N(e,t){void 0===t&&(t=Object.create(null));var n=new s(t.max||Math.pow(2,16),function(e){return e.dispose()}),r=t.keyArgs,i=t.makeCacheKey||j(),o=function(){var o=i.apply(null,r?r.apply(null,arguments):arguments);if(void 0===o)return e.apply(null,arguments);var a=n.get(o);a||(n.set(o,a=new y(e)),a.subscribe=t.subscribe,a.forget=function(){return n.delete(o)});var s=a.recompute(Array.prototype.slice.call(arguments));return n.set(o,a),R.add(n),u.hasValue()||(R.forEach(function(e){return e.clean()}),R.clear()),s};function a(e){var t=n.get(e);t&&t.setDirty()}function c(e){var t=n.get(e);if(t)return t.peek()}function l(e){return n.delete(e)}return Object.defineProperty(o,"size",{get:function(){return n.map.size},configurable:!1,enumerable:!1}),o.dirtyKey=a,o.dirty=function(){a(i.apply(null,arguments))},o.peekKey=c,o.peek=function(){return c(i.apply(null,arguments))},o.forgetKey=l,o.forget=function(){return l(i.apply(null,arguments))},o.makeCacheKey=i,o.getKey=r?function(){return i.apply(null,r.apply(null,arguments))}:i,Object.freeze(o)}},78186:function(e,t,n){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,{y:function(){return w}});var a=function(){return"function"==typeof Symbol},s=function(e){return a()&&Boolean(Symbol[e])},u=function(e){return s(e)?Symbol[e]:"@@"+e};a()&&!s("observable")&&(Symbol.observable=Symbol("observable"));var c=u("iterator"),l=u("observable"),f=u("species");function h(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function p(e){var t=e.constructor;return void 0!==t&&null===(t=t[f])&&(t=void 0),void 0!==t?t:w}function d(e){d.log?d.log(e):setTimeout(function(){throw e})}function y(e){Promise.resolve().then(function(){try{e()}catch(t){d(t)}})}function v(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=h(t,"unsubscribe");n&&n.call(t)}}catch(r){d(r)}}function m(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function g(e,t,n){e._state="running";var r=e._observer;try{var i=h(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(m(e),!i)throw n;i.call(r,n);break;case"complete":m(e),i&&i.call(r)}}catch(o){d(o)}"closed"===e._state?v(e):"running"===e._state&&(e._state="ready")}function _(e,t,n){if("closed"!==e._state){if("buffering"===e._state)return void e._queue.push({type:t,value:n});if("ready"!==e._state)return e._state="buffering",e._queue=[{type:t,value:n}],void y(function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(g(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)});g(e,t,n)}}var b=function(){function e(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var n=new k(this);try{this._cleanup=t.call(void 0,n)}catch(r){n.error(r)}"initializing"===this._state&&(this._state="ready")}return e.prototype.unsubscribe=function(){"closed"!==this._state&&(m(this),v(this))},o(e,[{key:"closed",get:function(){return"closed"===this._state}}]),e}(),k=function(){function e(e){this._subscription=e}var t=e.prototype;return t.next=function(e){_(this._subscription,"next",e)},t.error=function(e){_(this._subscription,"error",e)},t.complete=function(){_(this._subscription,"complete")},o(e,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),w=function(){function e(t){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}var t=e.prototype;return t.subscribe=function(e){return("object"!=typeof e||null===e)&&(e={next:e,error:arguments[1],complete:arguments[2]}),new b(e,this._subscriber)},t.forEach=function(e){var t=this;return new Promise(function(n,r){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(n){r(n),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),n()}})},t.map=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(p(this))(function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})})},t.filter=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(p(this))(function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})})},t.reduce=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=p(this),r=arguments.length>1,i=!1,o=arguments[1],a=o;return new n(function(n){return t.subscribe({next:function(t){var o=!i;if(i=!0,!o||r)try{a=e(a,t)}catch(s){return n.error(s)}else a=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(a),n.complete()}})})},t.concat=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=p(this);return new i(function(t){var r,o=0;return function e(a){r=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}})},t.flatMap=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=p(this);return new n(function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(s){return r.error(s)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),a()}});i.push(o)},error:function(e){r.error(e)},complete:function(){a()}});function a(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach(function(e){return e.unsubscribe()}),o.unsubscribe()}})},t[l]=function(){return this},e.from=function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var i=h(t,l);if(i){var o=i.call(t);if(Object(o)!==o)throw new TypeError(o+" is not an object");return function(e){return e instanceof w}(o)&&o.constructor===n?o:new n(function(e){return o.subscribe(e)})}if(s("iterator")&&(i=h(t,c)))return new n(function(e){y(function(){if(!e.closed){for(var n,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}}(e))){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(i.call(t));!(n=o()).done;)if(e.next(n.value),e.closed)return;e.complete()}})});if(Array.isArray(t))return new n(function(e){y(function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}})});throw new TypeError(t+" is not observable")},e.of=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i="function"==typeof this?this:e;return new i(function(e){y(function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}})})},o(e,null,[{key:f,get:function(){return this}}]),e}();a()&&Object.defineProperty(w,Symbol("extensions"),{value:{symbol:l,hostReportError:d},configurable:!0})}}])}();